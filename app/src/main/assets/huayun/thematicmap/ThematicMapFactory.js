//>>built
define("com/huayun/thematicmap/ThematicMapFactory",["dojo/request","./modules/SingleLineMap","./modules/InternalMapPD","./modules/InternalMapBD","./modules/SystemMapDistrict","./modules/SystemMapPSC","./modules/DdSystemMap","./modules/RegionMap","../util/JSONFormatterUtil"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){function _a(_b){this.ptmsService=_b.ptmsService;this.deviceParams=_b.deviceParams;this.diagramVo=_b.diagramVo;this.container=_b.container;this.antialias=_b.antialias;};_a.prototype.createDiagram=function(_c,_d){switch(_c){case "SingleLineMap":this._createSingleLineMap(_c,_d);break;case "InternalMapPD":this._createInternalMapPD(_c,_d);break;case "InternalMapBD":this._createInternalMapBD(_c,_d);break;case "SystemMapDistrict":this._createSystemMapDistrict(_c,_d);break;case "SystemMapPSC":this._createSystemMapPSC(_c,_d);break;case "DdSystemMap":this._createDdSystemMap(_c,_d);break;case "RegionMap":this._createRegionMap(_c,_d);break;case "InternalMapDY":this._createInternalMapDY(_c,_d);break;}};_a.prototype._createSingleLineMap=function(_e,_f){var _10=this.ptmsService.ptmsUrl+_e+"?filter=DEV_ID="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_10,{handleAs:"json"}).then(function(_11){var _12=new _2({dataJSON:_11,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_f(_12);});}.bind(this));};_a.prototype._createInternalMapPD=function(_13,_14){var _15=this.ptmsService.ptmsUrl+_13+"?filter=DEV_ID="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_15).then.call(this,function(_16){var _17=_9.string2Json(_16);var _18=new _3({dataJSON:_17,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_14(_18);});}.bind(this));};_a.prototype._createInternalMapBD=function(_19,_1a){var _1b=this.ptmsService.ptmsUrl+_19+"?filter=DEV_ID="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_1b).then.call(this,function(_1c){var _1d=_9.string2Json(_1c);var _1e=new _4({dataJSON:_1d,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_1a(_1e);});}.bind(this));};_a.prototype._createSystemMapDistrict=function(_1f,_20){var _21=this.ptmsService.ptmsUrl+_1f+"?filter=DEV_ID="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_21).then.call(this,function(_22){var _23=_9.string2Json(_22);var _24=new _5({dataJSON:_23,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_20(_24);});}.bind(this));};_a.prototype._createSystemMapPSC=function(_25,_26){var _27=this.ptmsService.ptmsUrl+_25+"?filter=DEV_ID="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_27).then.call(this,function(_28){var _29=_9.string2Json(_28);var _2a=new _6({dataJSON:_29,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_26(_2a);});}.bind(this));};_a.prototype._createDdSystemMap=function(_2b,_2c){var _2d=this.ptmsService.ptmsUrl+_2b+"?filter=MAP_ID="+this.deviceParams.mapId+"&access_token="+this.ptmsService.accessToken;_1(_2d).then.call(this,function(_2e){var _2f=_9.string2Json(_2e);var _30=new _7({dataJSON:_2f,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken,antialias:this.antialias},function(){_2c(_30);});}.bind(this));};_a.prototype._createRegionMap=function(_31,_32){var _33=this.ptmsService.ptmsUrl+_31+"?filter=ORG_NO="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_33).then.call(this,function(_34){var _35=_9.string2Json(_34);var _36=new _8({dataJSON:_35,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_32(_36);});}.bind(this));};_a.prototype._createInternalMapDY=function(_37,_38){var _39=this.ptmsService.ptmsUrl+_37+"?filter=DEV_ID="+this.deviceParams.devId+"&access_token="+this.ptmsService.accessToken;_1(_39).then.call(this,function(_3a){var _3b=_9.string2Json(_3a);var _3c=new _4({dataJSON:_3b,diagramVo:this.diagramVo,container:this.container,token:this.ptmsService.accessToken},function(){_38(_3c);});}.bind(this));};return _a;});