//>>built
define("com/huayun/thematicmap/thematicmap",["exports","dojo/Deferred","dojo/request","dojo/promise/all","./tool/FileParse","./tool/FileParseFromService","../util/JSONFormatterUtil","../util/WKTGeometryFormater","../thematicmap/ThematicMapFactory","../webgis/Map","../webgis/Graphic","../webgis/Feature","../webgis/symbols/PointSymbol","../webgis/symbols/LineSymbol","../webgis/geometry/Point","../webgis/geometry/Polyline","../webgis/views/SceneView","../webgis/layers/FeatureLayer"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12){var _13=new _8();function _14(_15,_16){var _17,_18,_19;var _1a,map,_1b;var _1c=[];var _1d,_1e,_1f;var _20;_20=_15;_19=_15.type;_1e=_15.container;_17=_15.ptmsService;_1f=_15.deviceParams;var _21=null;if(_15.config.hasOwnProperty("url")){_1d=new _6();}else{_1d=new _5();}_1d.getAll(_15.config,function(_22){var _23=new _9({ptmsService:_17,deviceParams:_1f,diagramVo:_22,container:_1e,antialias:_15.antialias});_23.config=_20.config;_23.fileParse=_1d;_23.createDiagram(_19,function(_24){if(_16){_24.diagram=_23;_24.type=_19;_16(_24);}});});};function _25(_26,_27,_28){if(typeof (_27)==="string"){_26.update({devId:_27,ptmsService:_26.diagram.ptmsService,type:_26.type});}else{_26.update({graphic:_27,newColor:_28});}};function _29(_2a,_2b,_2c){_2a.changeColor(_2b,_2c);};function _2d(_2e){_2e.diagram.fileParse.getAll(_2e.diagram.config,function(_2f){_2e.diagramVo=_2f;_2e.refresh();});};function _30(_31){_31.clear();};function _32(_33){_33.destroy();};_1.createThematic=_14;_1.update=_25;_1.changeColor=_29;_1.refresh=_2d;_1.clear=_30;_1.destroy=_32;return _1;});