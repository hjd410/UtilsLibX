//>>built
define("com/huayun/util/WKTGeometryFormater",["dojo/_base/declare","../webgis/geometry/Point","../webgis/geometry/Polyline","../webgis/geometry/Polygon","../webgis/geometry/Multipoint","../webgis/geometry/MultiPolygon"],function(_1,_2,_3,_4,_5,_6){return _1("com.huayun.util.WKTGeometryFormater",null,{typReg:/(\w+)/,pointReg:/(-?\d+\.?\d*\s+-?\d+\.?\d*)/g,lineReg:/(-?\d+\.?\d*\s+-?\d+\.?\d*)/g,polygonReg:/\((\s*-?\d+\.?\d*\s+-?\d+\.?\d*,?)+\)/g,ringReg:/(\s*-?\d+\.?\d*\s+-?\d+\.?\d*)/g,multilineReg:/(\((\s*-?\d+\.?\d*\s+-?\d+\.?\d*,*\s*)+\))/g,multipolyReg:/(\({1,2}(\s*\d+.?\d*\s+\d+.?\d*,?)+\),?\)?)+/g,constructor:function(){},toGeometry:function(_7){if(typeof _7==="string"&&_7.length>0){var _8=[],_9=null;switch(_7.match(this.typReg)[0].toLowerCase()){case "point":_8=_7.match(this.pointReg);_9=_8[0].split(" ");return new _2(Number(_9[0]),Number(_9[1]));case "multipoint":_8=_7.match(this.pointReg);var _a=[];_8.forEach(function(_b){_9=_b.split(" ");_a.push(new _2(Number(_9[0]),Number(_9[1])));}.bind(this));return new _5(_a);case "linestring":var _c=_7.match(this.lineReg);var _d=[];_c.forEach(function(_e){_8=_e.split(" ");_9=new _2(Number(_8[0]),Number(_8[1]));_d.push(_9);}.bind(this));return new _3([_d]);case "multilinestring":var _f=_7.match(this.multilineReg);var _10=[];_f.forEach(function(_11){var _12=_11.match(this.lineReg);var _13=[];_12.forEach(function(_14){_8=_14.split(" ");_9=new _2(Number(_8[0]),Number(_8[1]));_13.push(_9);});_10.push(_13);}.bind(this));return new _3(_10);case "polygon":var _15=_7.match(this.polygonReg);return this.parsePolygon(_15);case "multipolygon":var _16=[];var _17=_7.match(this.multipolyReg);if(_17!==null){for(var i=0,len=_17.length;i<len;i++){var _18=_17[i];var _19=_18.match(this.polygonReg);var _1a=this.parsePolygon(_19);_16.push(_1a);}return new _6(_16);}default:break;}}else{}return null;},parsePolygon:function(_1b){var _1c=[];for(var i=0;i<_1b.length;i++){var _1d=_1b[i];var _1e=_1d.match(this.ringReg);var _1f=[];for(var j=0;j<_1e.length;j++){var _20=_1e[j];pointArr=_20.split(" ");aPoint=new _2(Number(pointArr[0]),Number(pointArr[1]));_1f.push(aPoint);}_1c.push(_1f);}return new _4(_1c);}});});