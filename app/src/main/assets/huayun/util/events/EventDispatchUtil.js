//>>built
define("com/huayun/util/events/EventDispatchUtil",["dojo/_base/declare","dojo/topic","dojo/on"],function(_1,_2,on){return _1("com.huayun.util.EventDispatchUtil",[],{_click:null,constructor:function(_3){_1.safeMixin(this,_3);this._currentTarget=_3.target;this._mouse=new THREE.Vector2();this._raycaster=new THREE.Raycaster();},destroy:function(){this._click.remove();},_clickHandler:function(_4){this._target=_4.currentTarget.parentNode;this._offSetLeft=this._target.getBoundingClientRect().left;this._offSetTop=this._target.getBoundingClientRect().top;this._containerWidth=this._target.clientWidth;this._containerHeight=this._target.clientHeight;this._camera=this._target.camera;this._group=this._target.group;_4.preventDefault();this._mouse.x=((_4.clientX-this._offSetLeft)/this._containerWidth)*2-1;this._mouse.y=-((_4.clientY-this._offSetTop)/this._containerHeight)*2+1;this._raycaster.setFromCamera(this._mouse,this._camera);var _5=this._raycaster.intersectObject(this._group,true);for(var i=0;i<_5.length;i++){var _6=_5[i];if(_6.object.uuid===this._currentTarget.id){_4.stopPropagation();this.listener({type:this.type,currentTarget:this._currentTarget,target:this._target,clientX:_4.clientX,clientY:_4.clientY,sceneX:this._mouse.x,sceneY:this._mouse.y,x:_4.x,y:_4.y});}}},_selectedItem:function(){this._click.remove();}});});