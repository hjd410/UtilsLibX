//>>built
define("com/huayun/gl/shaders/terrain",["exports","../../webgis/data/uniform"],function(d,a){d.terrainVS="const float m2d \x3d 111194.872221777 / 2.0;\n\nattribute vec4 position3DAndHeight;\nattribute vec3 textureCoordAndEncodedNormals;\n\nuniform mat4 u_matrix;\nuniform vec4 u_tileRectangle;\nuniform float u_resolution;\nvarying vec2 v_texture;\n\nfloat get2DGeographicYPositionFraction(vec2 textureCoordinates){\n    return 1.0 - textureCoordinates.y;\n}\n\nfloat get2DYPositionFraction(vec2 textureCoordinates) {\n    return get2DGeographicYPositionFraction(textureCoordinates);\n}\n\nvec4 getPositionPlanarEarth(vec3 position, float height, vec2 textureCoordinates){\n    float yPositionFraction \x3d get2DYPositionFraction(textureCoordinates);\n    vec4 rtcPosition2D \x3d vec4(mix(u_tileRectangle.st, u_tileRectangle.pq, vec2(textureCoordinates.x, yPositionFraction)), height/  111194.872221777, 1.0);\n    return u_matrix * rtcPosition2D;\n}\n\nvec4 getPositionColumbusViewMode(vec3 position, float height, vec2 textureCoordinates){\n    return getPositionPlanarEarth(position, height, textureCoordinates);\n}\n\nvec4 getPosition(vec3 position, float height, vec2 textureCoordinates) {\n    return getPositionColumbusViewMode(position, height, textureCoordinates);\n}\n\nvoid main() {\n    vec3 position \x3d position3DAndHeight.xyz;\n    float height \x3d position3DAndHeight.w;\n    vec2 textureCoordinates \x3d textureCoordAndEncodedNormals.xy;\n    gl_Position \x3d getPosition(position, height, textureCoordinates);\n    v_texture \x3d textureCoordinates;\n}";
d.terrainFS="precision mediump float;\nuniform vec4 u_color;\nuniform sampler2D u_image;\nvarying vec2 v_texture;\n\nvoid main() {\n    vec2 tex_location \x3d vec2(v_texture.x, 1.0 - v_texture.y);\n    vec4 color0 \x3d texture2D(u_image, tex_location);\n    gl_FragColor \x3d color0;\n}";d.terrainUniforms=function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_color:new a.Uniform4f(b,c.u_color),u_tileRectangle:new a.Uniform4f(b,c.u_tileRectangle),u_image:new a.Uniform1i(b,c.u_image)}}});