//>>built
define("com/huayun/webgis/utils/geometryGenerate",["exports","../geometry/Point","../geometry/Polyline"],function(_1,_2,_3){function _4(sp,mp,ep,_5){_5=_5||50;var _6=1/_5;var _7=[];var _8;for(var i=0;i<=1;i+=_6){_8=1-i;_7.push(new _2(_8*_8*sp.x+2*i*_8*mp.x+i*i*ep.x,_8*_8*sp.y+2*i*_8*mp.y+i*i*ep.y));}_8=0;i=1;_7.push(new _2(_8*_8*sp.x+2*i*_8*mp.x+i*i*ep.x,_8*_8*sp.y+2*i*_8*mp.y+i*i*ep.y));return new _3([_7]);};function _9(sp,mp,ep,_a){_a=_a||50;var _b=1/_a;var _c=[];var _d;for(var i=0;i<1;i+=_b){_d=1-i;_c.push(new _2(_d*_d*sp.x+2*i*_d*mp.x+i*i*ep.x,_d*_d*sp.y+2*i*_d*mp.y+i*i*ep.y));}_d=0;i=1;_c.push(new _2(_d*_d*sp.x+2*i*_d*mp.x+i*i*ep.x,_d*_d*sp.y+2*i*_d*mp.y+i*i*ep.y));return _c;};_1.generateBezierCurve=_4;_1.generateBezierPointsByTwoPoints=function(sp,ep,_e){_e=_e||50;var _f=sp.dist(ep)/4;var _10=sp.sub(ep)._perp()._unit()._mult(_f);var cx=(sp.x+ep.x)/2+_10.x,cy=(sp.y+ep.y)/2+_10.y;return _9(sp,{x:cx,y:cy},ep,_e);};_1.generateBezierCurveByTwoPoints=function(sp,ep,_11,_12){_11=_11||50;_12=_12||4;var len=sp.dist(ep)/_12;var _13=sp.sub(ep)._perp()._unit();var _14=_13.mult(len);var cx=(sp.x+ep.x)/2+_14.x,cy=(sp.y+ep.y)/2+_14.y;return {line:_4(sp,{x:cx,y:cy},ep,_11),normal:_13,middle:new _2(cx,cy)};};});