//>>built
define("com/huayun/webgis/utils/colorSpaces",["./utils","./Color"],function(_1,_2){var Xn=0.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1,_3=Math.PI/180,_4=180/Math.PI;function _5(t){return t>t3?Math.pow(t,1/3):t/t2+t0;};function _6(t){return t>t1?t*t*t:t2*(t-t0);};function _7(x){return 255*(x<=0.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-0.055);};function _8(x){x/=255;return x<=0.04045?x/12.92:Math.pow((x+0.055)/1.055,2.4);};function _9(_a){var b=_8(_a.r),a=_8(_a.g),l=_8(_a.b),x=_5((0.4124564*b+0.3575761*a+0.1804375*l)/Xn),y=_5((0.2126729*b+0.7151522*a+0.072175*l)/Yn),z=_5((0.0193339*b+0.119192*a+0.9503041*l)/Zn);return {l:116*y-16,a:500*(x-y),b:200*(y-z),alpha:_a.a};};function _b(_c){var y=(_c.l+16)/116,x=isNaN(_c.a)?y:y+_c.a/500,z=isNaN(_c.b)?y:y-_c.b/200;y=Yn*_6(y);x=Xn*_6(x);z=Zn*_6(z);return new _2(_7(3.2404542*x-1.5371385*y-0.4985314*z),_7(-0.969266*x+1.8760108*y+0.041556*z),_7(0.0556434*x-0.2040259*y+1.0572252*z),_c.alpha);};function _d(_e,to,t){return {l:_1.number(_e.l,to.l,t),a:_1.number(_e.a,to.a,t),b:_1.number(_e.b,to.b,t),alpha:_1.number(_e.alpha,to.alpha,t)};};function _f(_10){var ref=_9(_10);var l=ref.l;var a=ref.a;var b=ref.b;var h=Math.atan2(b,a)*_4;return {h:h<0?h+360:h,c:Math.sqrt(a*a+b*b),l:l,alpha:_10.a};};function _11(_12){var h=_12.h*_3,c=_12.c,l=_12.l;return _b({l:l,a:Math.cos(h)*c,b:Math.sin(h)*c,alpha:_12.alpha});};function _13(a,b,t){var d=b-a;return a+t*(d>180||d<-180?d-360*Math.round(d/360):d);};function _14(_15,to,t){return {h:_13(_15.h,to.h,t),c:_1.number(_15.c,to.c,t),l:_1.number(_15.l,to.l,t),alpha:_1.number(_15.alpha,to.alpha,t)};};var lab={forward:_9,reverse:_b,interpolate:_d};var hcl={forward:_f,reverse:_11,interpolate:_14};return Object.freeze({lab:lab,hcl:hcl});});