//>>built
define("com/huayun/webgis/utils/findPoleOfInaccessibility",["../core/TinyQueue","../geometry/Point","../geometry/intersection_tests"],function(_1,_2,_3){function _4(a,b){return b.max-a.max;};function _5(x,y,h,_6){this.p=new _2(x,y);this.h=h;this.d=_7(this.p,_6);this.max=this.d+this.h*Math.SQRT2;};function _7(p,_8){var _9=false;var _a=Infinity;for(var k=0;k<_8.length;k++){var _b=_8[k];for(var i=0,_c=_b.length,j=_c-1;i<_c;j=i++){var a=_b[i];var b=_b[j];if((a.y>p.y!==b.y>p.y)&&(p.x<(b.x-a.x)*(p.y-a.y)/(b.y-a.y)+a.x)){_9=!_9;}_a=Math.min(_a,_3.distToSegmentSquared(p,a,b));}}return (_9?1:-1)*Math.sqrt(_a);};function _d(_e){var _f=0;var x=0;var y=0;var _10=_e[0];for(var i=0,len=_10.length,j=len-1;i<len;j=i++){var a=_10[i];var b=_10[j];var f=a.x*b.y-b.x*a.y;x+=(a.x+b.x)*f;y+=(a.y+b.y)*f;_f+=f*3;}return new _5(x/_f,y/_f,0,_e);};function _11(_12,_13){if(_13===void 0){_13=1;}var _14=Infinity,_15=Infinity,_16=-Infinity,_17=-Infinity;var _18=_12[0];for(var i=0;i<_18.length;i++){var p=_18[i];if(!i||p.x<_14){_14=p.x;}if(!i||p.y<_15){_15=p.y;}if(!i||p.x>_16){_16=p.x;}if(!i||p.y>_17){_17=p.y;}}var _19=_16-_14;var _1a=_17-_15;var _1b=Math.min(_19,_1a);var h=_1b/2;var _1c=new _1([],_4);if(_1b===0){return new _2(_14,_15);}for(var x=_14;x<_16;x+=_1b){for(var y=_15;y<_17;y+=_1b){_1c.push(new _5(x+h,y+h,h,_12));}}var _1d=_d(_12);var _1e=_1c.length;while(_1c.length){var _1f=_1c.pop();if(_1f.d>_1d.d||!_1d.d){_1d=_1f;}if(_1f.max-_1d.d<=_13){continue;}h=_1f.h/2;_1c.push(new _5(_1f.p.x-h,_1f.p.y-h,h,_12));_1c.push(new _5(_1f.p.x+h,_1f.p.y-h,h,_12));_1c.push(new _5(_1f.p.x-h,_1f.p.y+h,h,_12));_1c.push(new _5(_1f.p.x+h,_1f.p.y+h,h,_12));_1e+=4;}return _1d.p;};return _11;});