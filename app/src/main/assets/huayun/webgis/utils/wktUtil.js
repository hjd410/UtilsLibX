//>>built
define("com/huayun/webgis/utils/wktUtil",["exports","../geometry/Point","../geometry/Multipoint","../geometry/Polyline","../geometry/Polygon"],function(_1,_2,_3,_4,_5){var _6=/(\w+)/,_7=/(\d+\.?\d+\s+\d+\.?\d+)/g,_8=/(\d+\.?\d+\s+\d+\.?\d+)/g,_9=/\((\s*\d+\.?\d+\s+\d+\.?\d*,*\s*)+\)/g,_a=/(\((\d+\.?\d+\s+\d+\.?\d*,*\s*)+\))/g,_b=/(\((\((\s*\d+\.?\d+\s+\d+\.?\d*,*\s*)+\)){1}(,*\s*\((\s*\d+\.?\d+\s+\d+\.?\d*,*\s*)*\))*\))+/g;_1.parse2Geometry=function(_c){if(typeof _c==="string"&&_c.length>0){var _d=[],_e=null;switch(_c.match(_6)[0].toLowerCase()){case "point":_d=_c.match(_7);_e=_d[0].split(" ");return new _2(Number(_e[0]),Number(_e[1]));case "multipoint":_d=_c.match(_7);var _f=[];_d.forEach(function(_10){_e=_10.split(" ");_f.push(new _2(Number(_e[0]),Number(_e[1])));}.bind(this));return new _3(_f);case "linestring":var _11=_c.match(_8);var _12=[];_11.forEach(function(_13){_d=_13.split(" ");_e=new _2(Number(_d[0]),Number(_d[1]));_12.push(_e);}.bind(this));return new _4([_12]);case "multilinestring":var _14=_c.match(_a);var _15=[];_14.forEach(function(_16){var _17=_16.match(_8);var _18=[];_17.forEach(function(_19){_d=_19.split(" ");_e=new _2(Number(_d[0]),Number(_d[1]));_18.push(_e);});_15.push(_18);}.bind(this));return new _4(_15);case "polygon":var _1a=_c.match(_9);var _1b=[];_1a.forEach(function(_1c){var _1d=[];var _1e=_1c.match(_7);_1e.forEach(function(p){_d=p.split(" ");_e=new _2(Number(_d[0]),Number(_d[1]));_1d.push(_e);});_1b.push(_1d);}.bind(this));return new _5(_1b);case "multipolygon":var _1f=_c.match(_b);var _20=[];_1f.forEach(function(_21){var _22=_21.match(_9);var _23=[];_22.forEach(function(_24){var _25=[];var _26=_24.match(_7);_26.forEach(function(p){_d=p.split(" ");_e=new _2(Number(_d[0]),Number(_d[1]));_25.push(_e);});_23.push(_25);});_20.push(new _5(_23));});return _20;default:break;}}else{}return null;};_1.parse2Array=function(_27){if(typeof _27==="string"&&_27.length>0){var _28=[],_29=null;switch(_27.match(_6)[0].toLowerCase()){case "point":_28=_27.match(_7);_29=_28[0].split(" ");return new _2(Number(_29[0]),Number(_29[1]));case "multipoint":_28=_27.match(_7);var _2a=[];_28.forEach(function(_2b){_29=_2b.split(" ");_2a.push(new _2(Number(_29[0]),Number(_29[1])));}.bind(this));return _2a;case "linestring":var _2c=_27.match(_8);var _2d=[];_2c.forEach(function(_2e){_28=_2e.split(" ");_29=new _2(Number(_28[0]),Number(_28[1]));_2d.push(_29);}.bind(this));return _2d;case "multilinestring":var _2f=_27.match(_a);var _30=[];_2f.forEach(function(_31){var _32=_31.match(_8);var _33=[];_32.forEach(function(_34){_28=_34.split(" ");_29=new _2(Number(_28[0]),Number(_28[1]));_33.push(_29);});_30.push(_33);}.bind(this));return _30;case "polygon":var _35=_27.match(_9);var _36=[];_35.forEach(function(_37){_28=_37.split(" ");_29=new _2(Number(_28[0]),Number(_28[1]));_36.push(_29);}.bind(this));return _36;case "multipolygon":var _38=[];var _39=_27.match(_b);_39.forEach(function(_3a){var _3b=_3a.match(_9);var _3c=[];_3b.forEach(function(_3d){_28=_3d.split(" ");_29=new _2(Number(_28[0]),Number(_28[1]));_3c.push(_29);});_38.push(_3c);});return _38;default:break;}}else{}return null;};});