//>>built
define("com/huayun/webgis/utils/TinySDF",[],function(){var _1=100000000000000000000;function _2(_3,_4,_5,f,d,v,z){for(var x=0;x<_4;x++){for(var y=0;y<_5;y++){f[y]=_3[y*_4+x];}_6(f,d,v,z,_5);for(y=0;y<_5;y++){_3[y*_4+x]=d[y];}}for(y=0;y<_5;y++){for(x=0;x<_4;x++){f[x]=_3[y*_4+x];}_6(f,d,v,z,_4);for(x=0;x<_4;x++){_3[y*_4+x]=Math.sqrt(d[x]);}}};function _6(f,d,v,z,n){v[0]=0;z[0]=-_1;z[1]=+_1;for(var q=1,k=0;q<n;q++){var s=((f[q]+q*q)-(f[v[k]]+v[k]*v[k]))/(2*q-2*v[k]);while(s<=z[k]){k--;s=((f[q]+q*q)-(f[v[k]]+v[k]*v[k]))/(2*q-2*v[k]);}k++;v[k]=q;z[k]=s;z[k+1]=+_1;}for(q=0,k=0;q<n;q++){while(z[k+1]<q){k++;}d[q]=(q-v[k])*(q-v[k])+f[v[k]];}};function _7(_8,_9,_a,_b,_c,_d){this.fontSize=_8||24;this.buffer=_9===undefined?3:_9;this.cutoff=_b||0.25;this.fontFamily=_c||"sans-serif";this.fontWeight=_d||"normal";this.radius=_a||8;var _e=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas");this.canvas.width=this.canvas.height=_e;this.ctx=this.canvas.getContext("2d");this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily;this.ctx.textBaseline="middle";this.ctx.fillStyle="black";this.gridOuter=new Float64Array(_e*_e);this.gridInner=new Float64Array(_e*_e);this.f=new Float64Array(_e);this.d=new Float64Array(_e);this.z=new Float64Array(_e+1);this.v=new Int16Array(_e);this.middle=Math.round((_e/2)*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1));};_7.prototype.draw=function(_f){this.ctx.clearRect(0,0,this.size,this.size);this.ctx.fillText(_f,this.buffer,this.middle);var _10=this.ctx.getImageData(0,0,this.size,this.size);var _11=new Uint8ClampedArray(this.size*this.size);for(var i=0;i<this.size*this.size;i++){var a=_10.data[i*4+3]/255;this.gridOuter[i]=a===1?0:a===0?_1:Math.pow(Math.max(0,0.5-a),2);this.gridInner[i]=a===1?_1:a===0?0:Math.pow(Math.max(0,a-0.5),2);}_2(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z);_2(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z);for(i=0;i<this.size*this.size;i++){var d=this.gridOuter[i]-this.gridInner[i];_11[i]=Math.max(0,Math.min(255,Math.round(255-255*(d/this.radius+this.cutoff))));}return _11;};return _7;});