//>>built
define("com/huayun/webgis/layers/support/StyleLayerM","exports ../../data/bucket/FillBucket ../../data/bucket/LineBucket ../../data/bucket/SymbolBucket ../../data/bucket/FillExtrusionBucket ../../data/bucket/HeatmapBucket ../../data/bucket/CircleBucket ./Property ./EvaluationParameters ./expressions ../../utils/utils ../../utils/image ../../geometry/Point2D".split(" "),function(l,O,P,Q,R,S,T,a,U,V,t,A,W){function w(b,d,e,a,c){if(!d[0]&&!d[1])return b;d=W.convert(d)._mult(c);"viewport"===e&&d._rotate(-a);
e=[];for(a=0;a<b.length;a++)e.push(b[a].sub(d));return e}function u(b,d,e){b=d.paint.get(b).value;if("constant"===b.kind)return b.value}function Y(b,d,e){var a={},c;for(c in b)a[c]=d.call(e||this,b[c],c,b);return a}function p(b){return Array.isArray(b)?b.map(p):"object"===typeof b&&b?Y(b,p):b}function Z(b,d){return d.replace(/{([^{}]+)}/g,function(d,a){return a in b?String(b[a]):""})}function B(b,d){var e=b.key,a=b.style,c=b.styleSpec,f=b.value,h=b.objectKey,g=c[d+"_"+b.layerType];if(!g)return[];
var k=h.match(/^(.*)-transition$/);if("paint"===d&&k&&g[k[1]]&&g[k[1]].transition)return validate({key:e,value:f,valueSpec:c.transition,style:a,styleSpec:c});g=b.valueSpec||g[h];if(!g)return[new ValidationError(e,f,'unknown property "'+h+'"')];var m;if("string"===getType(f)&&supportsPropertyExpression(g)&&!g.tokens&&(m=/^{([^}]+)}$/.exec(f)))return[new ValidationError(e,f,'"'+h+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+
JSON.stringify(m[1])+" }`.")];m=[];"symbol"===b.layerType&&("text-field"===h&&a&&!a.glyphs&&m.push(new ValidationError(e,f,'use of "text-field" requires a style "glyphs" property')),"text-font"===h&&isFunction(deepUnbundle(f))&&"identity"===unbundle(f.type)&&m.push(new ValidationError(e,f,'"text-font" does not support identity functions')));return m.concat(validate({key:b.key,value:f,valueSpec:g,style:a,styleSpec:c,expressionContext:"property",propertyType:d,propertyKey:h}))}function C(b,d){d=d||
c;var e=[],e=e.concat(validate({key:"",value:b,valueSpec:d.$root,styleSpec:d,style:b,objectElementValidators:{glyphs:validateGlyphsURL,"*":function(){return[]}}}));b.constants&&(e=e.concat(validateConstants({key:"constants",value:b.constants,style:b,styleSpec:d})));return D(e)}function D(b){return[].concat(b).sort(function(b,e){return b.line-e.line})}function x(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])}function E(b){return function(){for(var d=[],e=arguments.length;e--;)d[e]=arguments[e];return D(b.apply(this,
d))}}function aa(b,d,e){var a={},c;for(c in b)d.call(e||this,b[c],c,b)&&(a[c]=b[c]);return a}var c={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},
layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number",
"default":22},attribution:{type:"string"},"*":{type:"*"}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background".split(" "),
layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},"default":"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},
source:{}},"default":"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",
values:{none:{},width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},
{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},
viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,
parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field",
{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],
expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"},{"!":"text-variable-anchor"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",
"default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"\x3d\x3d":{},"!\x3d":{},"\x3e":{},"\x3e\x3d":{},"\x3c":{},"\x3c\x3d":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string",
"default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},
at:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},
"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},
"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"\x3d\x3d":{group:"Decision"},"!\x3d":{group:"Decision"},"\x3e":{group:"Decision"},
"\x3c":{group:"Decision"},"\x3e\x3d":{group:"Decision"},"\x3c\x3d":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array","default":[1.15,
210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background".split(" "),
paint_fill:{"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],
expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],
expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",
"default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},
"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,
units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},
viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},
"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,
maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",
requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,
requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature",
"feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},
nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",
values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",
transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},
"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},z=function(b){this._properties=b;this._values=Object.create(b.defaultPossiblyEvaluatedValues)};z.prototype.get=function(b){return this._values[b]};var y=function(b){this._properties=b;this._values=Object.create(b.defaultTransitioningPropertyValues)};y.prototype.possiblyEvaluate=function(b){for(var d=new z(this._properties),e=0,a=Object.keys(this._values);e<a.length;e+=1){var c=a[e];d._values[c]=
this._values[c].possiblyEvaluate(b)}return d};y.prototype.hasTransition=function(){for(var b=0,d=Object.keys(this._values);b<d.length;b+=1)if(this._values[d[b]].prior)return!0;return!1};var v=function(b){this._properties=b;this._values=Object.create(b.defaultPropertyValues)};v.prototype.getValue=function(b){return p(this._values[b].value)};v.prototype.setValue=function(b,d){this._values[b]=new a.PropertyValue(this._values[b].property,null===d?void 0:p(d))};v.prototype.serialize=function(){for(var b=
{},d=0,e=Object.keys(this._values);d<e.length;d+=1){var a=e[d],c=this.getValue(a);void 0!==c&&(b[a]=c)}return b};v.prototype.possiblyEvaluate=function(b){for(var d=new z(this._properties),e=0,a=Object.keys(this._values);e<a.length;e+=1){var c=a[e];d._values[c]=this._values[c].possiblyEvaluate(b)}return d};var q=function(b){this._properties=b;this._values=Object.create(b.defaultTransitionablePropertyValues)};q.prototype.getValue=function(b){return p(this._values[b].value.value)};q.prototype.setValue=
function(b,d){this._values.hasOwnProperty(b)||(this._values[b]=new a.TransitionablePropertyValue(this._values[b].property));this._values[b].value=new a.PropertyValue(this._values[b].property,null===d?void 0:p(d))};q.prototype.getTransition=function(b){return p(this._values[b].transition)};q.prototype.setTransition=function(b,d){this._values.hasOwnProperty(b)||(this._values[b]=new a.TransitionablePropertyValue(this._values[b].property));this._values[b].transition=p(d)||void 0};q.prototype.serialize=
function(){for(var b={},d=0,a=Object.keys(this._values);d<a.length;d+=1){var c=a[d],n=this.getValue(c);void 0!==n&&(b[c]=n);n=this.getTransition(c);void 0!==n&&(b[c+"-transition"]=n)}return b};q.prototype.transitioned=function(b,d){for(var a=new y(this._properties),c=0,n=Object.keys(this._values);c<n.length;c+=1){var f=n[c];a._values[f]=this._values[f].transitioned(b,d._values[f])}return a};q.prototype.untransitioned=function(){for(var b=new y(this._properties),d=0,a=Object.keys(this._values);d<a.length;d+=
1){var c=a[d];b._values[c]=this._values[c].untransitioned()}return b};C.paintProperty=E(function(b){return B(b,"paint")});C.layoutProperty=E(function(b){return B(b,"layout")});var r=function(){function b(b,a){this.id=b.id;this.type=b.type;this._featureFilter=function(){return!0};if("custom"!==b.type&&(this.minzoom=b.minzoom,this.maxzoom=b.maxzoom,this.source=b.source,"background"!==b.type&&(this.sourceLayer=b["source-layer"],this.filter=b.filter),a.layout&&(this._unevaluatedLayout=new v(a.layout)),
a.paint)){this._transitionablePaint=new q(a.paint);for(var d in b.paint)this.setPaintProperty(d,b.paint[d],{validate:!1});for(var c in b.layout)this.setLayoutProperty(c,b.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}b.prototype.constructor=b;b.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters};b.prototype.getLayoutProperty=function(b){return"visibility"===b?this.visibility:this._unevaluatedLayout.getValue(b)};b.prototype.setLayoutProperty=
function(b,a,c){void 0===c&&(c={});"visibility"===b?this.visibility=a:this._unevaluatedLayout.setValue(b,a)};b.prototype.getPaintProperty=function(b){return t.endsWith(b,"-transition")?this._transitionablePaint.getTransition(b.slice(0,-11)):this._transitionablePaint.getValue(b)};b.prototype.setPaintProperty=function(b,a,c){void 0===c&&(c={});if(-1!==b.indexOf("-transition",b.length-11))return this._transitionablePaint.setTransition(b.slice(0,-11),a||void 0),!1;var d=this._transitionablePaint._values[b];
c="cross-faded-data-driven"===d.property.specification["property-type"];d=d.value.isDataDriven();this._transitionablePaint.setValue(b,a);this._handleSpecialPaintPropertyUpdate(b);return this._transitionablePaint._values[b].value.isDataDriven()||d||c};b.prototype._handleSpecialPaintPropertyUpdate=function(b){};b.prototype.isHidden=function(b){return this.minzoom&&b<this.minzoom||this.maxzoom&&b>=this.maxzoom?!0:"none"===this.visibility};b.prototype.updateTransitions=function(b){this._transitioningPaint=
this._transitionablePaint.transitioned(b,this._transitioningPaint)};b.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()};b.prototype.recalculate=function(b){b.getCrossfadeParameters&&(this._crossfadeParameters=b.getCrossfadeParameters());this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(b));this.paint=this._transitioningPaint.possiblyEvaluate(b)};b.prototype.serialize=function(){var b={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,
metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};this.visibility&&(b.layout=b.layout||{},b.layout.visibility=this.visibility);return aa(b,function(b,a){return void 0!==b&&!("layout"===a&&!Object.keys(b).length)&&!("paint"===a&&!Object.keys(b).length)})};b.prototype._validate=function(b,a,X,n,f){void 0===f&&(f={});return f&&!1===
f.validate?!1:t.emitValidationErrors(this,b.call(validateStyle,{key:a,layerType:this.type,objectKey:X,value:n,styleSpec:c,style:{glyphs:!0,sprite:!0}}))};b.prototype.is3D=function(){return!1};b.prototype.isTileClipped=function(){return!1};b.prototype.hasOffscreenPass=function(){return!1};b.prototype.resize=function(){};b.prototype.isStateDependent=function(){for(var b in this.paint._values){var c=this.paint.get(b);if(c instanceof a.PossiblyEvaluatedPropertyValue&&("data-driven"===c.property.specification["property-type"]||
"cross-faded-data-driven"===c.property.specification["property-type"])&&("source"===c.value.kind||"composite"===c.value.kind)&&c.value.isStateDependent)return!0}return!1};return b}();l.StyleLayer=r;var ba={paint:new a.Properties({"background-color":new a.DataConstantProperty(c.paint_background["background-color"]),"background-pattern":new a.CrossFadedProperty(c.paint_background["background-pattern"]),"background-opacity":new a.DataConstantProperty(c.paint_background["background-opacity"])})},F=function(b){function a(a){b.call(this,
a,ba)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);return a.prototype.constructor=a}(r);l.BackgroundStyleLayer=F;var ca=new a.Properties({"line-cap":new a.DataConstantProperty(c.layout_line["line-cap"]),"line-join":new a.DataDrivenProperty(c.layout_line["line-join"]),"line-miter-limit":new a.DataConstantProperty(c.layout_line["line-miter-limit"]),"line-round-limit":new a.DataConstantProperty(c.layout_line["line-round-limit"])}),G=new a.Properties({"line-opacity":new a.DataDrivenProperty(c.paint_line["line-opacity"]),
"line-color":new a.DataDrivenProperty(c.paint_line["line-color"]),"line-translate":new a.DataConstantProperty(c.paint_line["line-translate"]),"line-translate-anchor":new a.DataConstantProperty(c.paint_line["line-translate-anchor"]),"line-width":new a.DataDrivenProperty(c.paint_line["line-width"]),"line-gap-width":new a.DataDrivenProperty(c.paint_line["line-gap-width"]),"line-offset":new a.DataDrivenProperty(c.paint_line["line-offset"]),"line-blur":new a.DataDrivenProperty(c.paint_line["line-blur"]),
"line-dasharray":new a.CrossFadedProperty(c.paint_line["line-dasharray"]),"line-pattern":new a.CrossFadedDataDrivenProperty(c.paint_line["line-pattern"]),"line-gradient":new a.ColorRampProperty(c.paint_line["line-gradient"])}),H=new (function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.possiblyEvaluate=function(a,c){c=new U(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,
transition:c.transition});return b.prototype.possiblyEvaluate.call(this,a,c)};a.prototype.evaluate=function(a,c,d,f){c=extend({},c,{zoom:Math.floor(c.zoom)});return b.prototype.evaluate.call(this,a,c,d,f)};return a}(a.DataDrivenProperty))(G.properties["line-width"].specification);H.useIntegerZoom=!0;var I=function(b){function a(a){b.call(this,a,{paint:G,layout:ca})}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype._handleSpecialPaintPropertyUpdate=
function(b){"line-gradient"===b&&this._updateGradient()};a.prototype._updateGradient=function(){this.gradient=A.renderColorRamp(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress");this.gradientTexture=null};a.prototype.recalculate=function(a){b.prototype.recalculate.call(this,a);this.paint._values["line-floorwidth"]=H.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)};a.prototype.createBucket=function(b){return new P(b)};a.prototype.queryRadius=
function(b){var a;a=u("line-width",this,b);var c=u("line-gap-width",this,b);a=0<c?c+2*a:a;b=u("line-offset",this,b);return a/2+Math.abs(b)+x(this.paint.get("line-translate"))};a.prototype.queryIntersectsFeature=function(b,a,c,d,h,g,k){b=w(b,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,k);h=this.paint.get("line-width").evaluate(a,c);g=this.paint.get("line-gap-width").evaluate(a,c);h=k/2*(0<g?g+2*h:h);(a=this.paint.get("line-offset").evaluate(a,c))&&(d=offsetLine(d,
a*k));return polygonIntersectsBufferedMultiLine(b,d,h)};a.prototype.isTileClipped=function(){return!0};return a}(r);l.LineStyleLayer=I;var da={paint:new a.Properties({"fill-antialias":new a.DataConstantProperty(c.paint_fill["fill-antialias"]),"fill-opacity":new a.DataDrivenProperty(c.paint_fill["fill-opacity"]),"fill-color":new a.DataDrivenProperty(c.paint_fill["fill-color"]),"fill-outline-color":new a.DataDrivenProperty(c.paint_fill["fill-outline-color"]),"fill-translate":new a.DataConstantProperty(c.paint_fill["fill-translate"]),
"fill-translate-anchor":new a.DataConstantProperty(c.paint_fill["fill-translate-anchor"]),"fill-pattern":new a.CrossFadedDataDrivenProperty(c.paint_fill["fill-pattern"])})},J=function(b){function a(a){b.call(this,a,da)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.recalculate=function(a){b.prototype.recalculate.call(this,a);this.paint._values["fill-outline-color"]=this.paint._values["fill-color"]};a.prototype.createBucket=function(b){return new O(b)};
a.prototype.queryRadius=function(){return x([0,0])};a.prototype.queryIntersectsFeature=function(b,a,c,d,h,g,k){b=w(b,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,k);return polygonIntersectsMultiPolygon(b,d)};a.prototype.isTileClipped=function(){return!0};return a}(r);l.FillStyleLayer=J;var ea=new a.Properties({"symbol-placement":new a.DataConstantProperty(c.layout_symbol["symbol-placement"]),"symbol-spacing":new a.DataConstantProperty(c.layout_symbol["symbol-spacing"]),
"symbol-avoid-edges":new a.DataConstantProperty(c.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new a.DataDrivenProperty(c.layout_symbol["symbol-sort-key"]),"symbol-z-order":new a.DataConstantProperty(c.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new a.DataConstantProperty(c.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a.DataConstantProperty(c.layout_symbol["icon-ignore-placement"]),"icon-optional":new a.DataConstantProperty(c.layout_symbol["icon-optional"]),
"icon-rotation-alignment":new a.DataConstantProperty(c.layout_symbol["icon-rotation-alignment"]),"icon-size":new a.DataDrivenProperty(c.layout_symbol["icon-size"]),"icon-text-fit":new a.DataConstantProperty(c.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a.DataConstantProperty(c.layout_symbol["icon-text-fit-padding"]),"icon-image":new a.DataDrivenProperty(c.layout_symbol["icon-image"]),"icon-rotate":new a.DataDrivenProperty(c.layout_symbol["icon-rotate"]),"icon-padding":new a.DataConstantProperty(c.layout_symbol["icon-padding"]),
"icon-keep-upright":new a.DataConstantProperty(c.layout_symbol["icon-keep-upright"]),"icon-offset":new a.DataDrivenProperty(c.layout_symbol["icon-offset"]),"icon-anchor":new a.DataDrivenProperty(c.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a.DataConstantProperty(c.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a.DataConstantProperty(c.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a.DataConstantProperty(c.layout_symbol["text-rotation-alignment"]),
"text-field":new a.DataDrivenProperty(c.layout_symbol["text-field"]),"text-font":new a.DataDrivenProperty(c.layout_symbol["text-font"]),"text-size":new a.DataDrivenProperty(c.layout_symbol["text-size"]),"text-max-width":new a.DataDrivenProperty(c.layout_symbol["text-max-width"]),"text-line-height":new a.DataConstantProperty(c.layout_symbol["text-line-height"]),"text-letter-spacing":new a.DataDrivenProperty(c.layout_symbol["text-letter-spacing"]),"text-justify":new a.DataDrivenProperty(c.layout_symbol["text-justify"]),
"text-radial-offset":new a.DataDrivenProperty(c.layout_symbol["text-radial-offset"]),"text-variable-anchor":new a.DataConstantProperty(c.layout_symbol["text-variable-anchor"]),"text-anchor":new a.DataDrivenProperty(c.layout_symbol["text-anchor"]),"text-max-angle":new a.DataConstantProperty(c.layout_symbol["text-max-angle"]),"text-rotate":new a.DataDrivenProperty(c.layout_symbol["text-rotate"]),"text-padding":new a.DataConstantProperty(c.layout_symbol["text-padding"]),"text-keep-upright":new a.DataConstantProperty(c.layout_symbol["text-keep-upright"]),
"text-transform":new a.DataDrivenProperty(c.layout_symbol["text-transform"]),"text-offset":new a.DataDrivenProperty(c.layout_symbol["text-offset"]),"text-allow-overlap":new a.DataConstantProperty(c.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a.DataConstantProperty(c.layout_symbol["text-ignore-placement"]),"text-optional":new a.DataConstantProperty(c.layout_symbol["text-optional"])}),fa=new a.Properties({"icon-opacity":new a.DataDrivenProperty(c.paint_symbol["icon-opacity"]),"icon-color":new a.DataDrivenProperty(c.paint_symbol["icon-color"]),
"icon-halo-color":new a.DataDrivenProperty(c.paint_symbol["icon-halo-color"]),"icon-halo-width":new a.DataDrivenProperty(c.paint_symbol["icon-halo-width"]),"icon-halo-blur":new a.DataDrivenProperty(c.paint_symbol["icon-halo-blur"]),"icon-translate":new a.DataConstantProperty(c.paint_symbol["icon-translate"]),"icon-translate-anchor":new a.DataConstantProperty(c.paint_symbol["icon-translate-anchor"]),"text-opacity":new a.DataDrivenProperty(c.paint_symbol["text-opacity"]),"text-color":new a.DataDrivenProperty(c.paint_symbol["text-color"]),
"text-halo-color":new a.DataDrivenProperty(c.paint_symbol["text-halo-color"]),"text-halo-width":new a.DataDrivenProperty(c.paint_symbol["text-halo-width"]),"text-halo-blur":new a.DataDrivenProperty(c.paint_symbol["text-halo-blur"]),"text-translate":new a.DataConstantProperty(c.paint_symbol["text-translate"]),"text-translate-anchor":new a.DataConstantProperty(c.paint_symbol["text-translate-anchor"])}),K=function(b){function a(a){b.call(this,a,{paint:fa,layout:ea})}b&&(a.__proto__=b);a.prototype=Object.create(b&&
b.prototype);a.prototype.constructor=a;a.prototype.recalculate=function(a){b.prototype.recalculate.call(this,a);"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport");"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]=
"viewport");"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment"));"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))};a.prototype.getValueAndResolveTokens=function(b,a){var c=this.layout.get(b).evaluate(a,{});b=this._unevaluatedLayout._values[b];return b.isDataDriven()||V.isExpression(b.value)?c:Z(a.properties,c)};a.prototype.createBucket=
function(b){return new Q(b)};a.prototype.queryRadius=function(){return 0};a.prototype.queryIntersectsFeature=function(){return!1};return a}(r);l.SymbolStyleLayer=K;var ga={paint:new a.Properties({"fill-extrusion-opacity":new a.DataConstantProperty(c["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new a.DataDrivenProperty(c["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a.DataConstantProperty(c["paint_fill-extrusion"]["fill-extrusion-translate"]),
"fill-extrusion-translate-anchor":new a.DataConstantProperty(c["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new a.CrossFadedDataDrivenProperty(c["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new a.DataDrivenProperty(c["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new a.DataDrivenProperty(c["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new a.DataConstantProperty(c["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},
L=function(b){function a(a){b.call(this,a,ga)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.createBucket=function(b){return new R(b)};a.prototype.queryRadius=function(){return x(this.paint.get("fill-extrusion-translate"))};a.prototype.is3D=function(){return!0};a.prototype.queryIntersectsFeature=function(b,a,c,d,h,g,k,m){h=w(b,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,k);b=this.paint.get("fill-extrusion-height").evaluate(a,
c);a=this.paint.get("fill-extrusion-base").evaluate(a,c);g=projectQueryGeometry$1(h,m,g,0);d=projectExtrusion(d,a,b,m);return checkIntersection(d[0],d[1],g)};return a}(r);l.FillExtrusionStyleLayer=L;var ha={paint:new a.Properties({"heatmap-radius":new a.DataDrivenProperty(c.paint_heatmap["heatmap-radius"]),"heatmap-weight":new a.DataDrivenProperty(c.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a.DataConstantProperty(c.paint_heatmap["heatmap-intensity"]),"heatmap-color":new a.ColorRampProperty(c.paint_heatmap["heatmap-color"]),
"heatmap-opacity":new a.DataConstantProperty(c.paint_heatmap["heatmap-opacity"])})},M=function(b){function a(a){b.call(this,a,ha);this._updateColorRamp()}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.createBucket=function(a){return new S(a)};a.prototype._handleSpecialPaintPropertyUpdate=function(a){"heatmap-color"===a&&this._updateColorRamp()};a.prototype._updateColorRamp=function(){this.colorRamp=A.renderColorRamp(this._transitionablePaint._values["heatmap-color"].value.expression,
"heatmapDensity");this.colorRampTexture=null};a.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)};a.prototype.queryRadius=function(){return 0};a.prototype.queryIntersectsFeature=function(){return!1};a.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility};return a}(r);l.HeatmapStyleLayer=M;var ia={paint:new a.Properties({"circle-radius":new a.DataDrivenProperty(c.paint_circle["circle-radius"]),"circle-color":new a.DataDrivenProperty(c.paint_circle["circle-color"]),
"circle-blur":new a.DataDrivenProperty(c.paint_circle["circle-blur"]),"circle-opacity":new a.DataDrivenProperty(c.paint_circle["circle-opacity"]),"circle-translate":new a.DataConstantProperty(c.paint_circle["circle-translate"]),"circle-translate-anchor":new a.DataConstantProperty(c.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a.DataConstantProperty(c.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a.DataConstantProperty(c.paint_circle["circle-pitch-alignment"]),
"circle-stroke-width":new a.DataDrivenProperty(c.paint_circle["circle-stroke-width"]),"circle-stroke-color":new a.DataDrivenProperty(c.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new a.DataDrivenProperty(c.paint_circle["circle-stroke-opacity"])})},N=function(a){function b(b){a.call(this,b,ia)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.createBucket=function(a){return new T(a)};b.prototype.queryRadius=function(a){return u("circle-radius",
this,a)+u("circle-stroke-width",this,a)+x(this.paint.get("circle-translate"))};b.prototype.queryIntersectsFeature=function(a,b,c,d,h,g,k,m){a=w(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,k);h=this.paint.get("circle-radius").evaluate(b,c);b=this.paint.get("circle-stroke-width").evaluate(b,c);c=h+b;a=(b="map"===this.paint.get("circle-pitch-alignment"))?a:t.projectQueryGeometry(a,m);k=b?c*k:c;for(c=0;c<d.length;c+=1){h=0;for(var e=d[c];h<e.length;h+=1){var f=
e[h],n=b?f:t.projectPoint(f,m),l=k,f=glMatrix.vec4.transformMat4([],[f.x,f.y,0,1],m);"viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?l*=f[3]/g.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(l*=g.cameraToCenterDistance/f[3]);if(t.polygonIntersectsBufferedPoint(a,n,l))return!0}}return!1};return b}(r);l.CircleStyleLayer=N;l.createStyleLayer=function(a){switch(a.type){case "fill":return new J(a);
case "line":return new I(a);case "symbol":return new K(a);case "background":return new F(a);case "fill-extrusion":return new L(a);case "heatmap":return new M(a);case "circle":return new N(a)}}});