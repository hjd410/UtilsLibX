//>>built
define("com/huayun/webgis/layers/support/expression/Coalesce",["../style/styleUtils"],function(_1){var _2=function _2(_3,_4){this.type=_3;this.args=_4;};_2.parse=function(_5,_6){if(_5.length<2){return _6.error("Expectected at least one argument.");}var _7=null;var _8=_6.expectedType;if(_8&&_8.kind!=="value"){_7=_8;}var _9=[];for(var i=0,_a=_5.slice(1);i<_a.length;i+=1){var _b=_a[i];var _c=_6.parse(_b,1+_9.length,_7,undefined,{typeAnnotation:"omit"});if(!_c){return null;}_7=_7||_c.type;_9.push(_c);}var _d=_8&&_9.some(function(_e){return _1.checkSubtype(_8,_e.type);});return _d?new _2({kind:"value"},_9):new _2(_7,_9);};_2.prototype.evaluate=function(_f){var _10=null;for(var i=0,_11=this.args;i<_11.length;i+=1){var arg=_11[i];_10=arg.evaluate(_f);if(_10!==null){break;}}return _10;};_2.prototype.eachChild=function(fn){this.args.forEach(fn);};_2.prototype.possibleOutputs=function(){var ref;return (ref=[]).concat.apply(ref,this.args.map(function(arg){return arg.possibleOutputs();}));};_2.prototype.serialize=function(){var _12=["coalesce"];this.eachChild(function(_13){_12.push(_13.serialize());});return _12;};return _2;});