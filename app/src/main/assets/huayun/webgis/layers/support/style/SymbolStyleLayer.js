//>>built
define("com/huayun/webgis/layers/support/style/SymbolStyleLayer",["./StyleLayer","./Properties","./DataConstantProperty","./DataDrivenProperty","./spec","../../../data/bucket/SymbolBucket","../expression/expressions"],function(_1,_2,_3,_4,_5,_6,_7){function _8(_9,_a){return _a.replace(/{([^{}]+)}/g,function(_b,_c){return _c in _9?String(_9[_c]):"";});};var _d=new _2({"symbol-placement":new _3(_5["layout_symbol"]["symbol-placement"]),"symbol-spacing":new _3(_5["layout_symbol"]["symbol-spacing"]),"symbol-avoid-edges":new _3(_5["layout_symbol"]["symbol-avoid-edges"]),"symbol-sort-key":new _4(_5["layout_symbol"]["symbol-sort-key"]),"symbol-z-order":new _3(_5["layout_symbol"]["symbol-z-order"]),"icon-allow-overlap":new _3(_5["layout_symbol"]["icon-allow-overlap"]),"icon-ignore-placement":new _3(_5["layout_symbol"]["icon-ignore-placement"]),"icon-optional":new _3(_5["layout_symbol"]["icon-optional"]),"icon-rotation-alignment":new _3(_5["layout_symbol"]["icon-rotation-alignment"]),"icon-size":new _4(_5["layout_symbol"]["icon-size"]),"icon-text-fit":new _3(_5["layout_symbol"]["icon-text-fit"]),"icon-text-fit-padding":new _3(_5["layout_symbol"]["icon-text-fit-padding"]),"icon-image":new _4(_5["layout_symbol"]["icon-image"]),"icon-rotate":new _4(_5["layout_symbol"]["icon-rotate"]),"icon-padding":new _3(_5["layout_symbol"]["icon-padding"]),"icon-keep-upright":new _3(_5["layout_symbol"]["icon-keep-upright"]),"icon-offset":new _4(_5["layout_symbol"]["icon-offset"]),"icon-anchor":new _4(_5["layout_symbol"]["icon-anchor"]),"icon-pitch-alignment":new _3(_5["layout_symbol"]["icon-pitch-alignment"]),"text-pitch-alignment":new _3(_5["layout_symbol"]["text-pitch-alignment"]),"text-rotation-alignment":new _3(_5["layout_symbol"]["text-rotation-alignment"]),"text-field":new _4(_5["layout_symbol"]["text-field"]),"text-font":new _4(_5["layout_symbol"]["text-font"]),"text-size":new _4(_5["layout_symbol"]["text-size"]),"text-max-width":new _4(_5["layout_symbol"]["text-max-width"]),"text-line-height":new _3(_5["layout_symbol"]["text-line-height"]),"text-letter-spacing":new _4(_5["layout_symbol"]["text-letter-spacing"]),"text-justify":new _4(_5["layout_symbol"]["text-justify"]),"text-radial-offset":new _4(_5["layout_symbol"]["text-radial-offset"]),"text-variable-anchor":new _3(_5["layout_symbol"]["text-variable-anchor"]),"text-anchor":new _4(_5["layout_symbol"]["text-anchor"]),"text-max-angle":new _3(_5["layout_symbol"]["text-max-angle"]),"text-rotate":new _4(_5["layout_symbol"]["text-rotate"]),"text-padding":new _3(_5["layout_symbol"]["text-padding"]),"text-keep-upright":new _3(_5["layout_symbol"]["text-keep-upright"]),"text-transform":new _4(_5["layout_symbol"]["text-transform"]),"text-offset":new _4(_5["layout_symbol"]["text-offset"]),"text-allow-overlap":new _3(_5["layout_symbol"]["text-allow-overlap"]),"text-ignore-placement":new _3(_5["layout_symbol"]["text-ignore-placement"]),"text-optional":new _3(_5["layout_symbol"]["text-optional"])});var _e=new _2({"icon-opacity":new _4(_5["paint_symbol"]["icon-opacity"]),"icon-color":new _4(_5["paint_symbol"]["icon-color"]),"icon-halo-color":new _4(_5["paint_symbol"]["icon-halo-color"]),"icon-halo-width":new _4(_5["paint_symbol"]["icon-halo-width"]),"icon-halo-blur":new _4(_5["paint_symbol"]["icon-halo-blur"]),"icon-translate":new _3(_5["paint_symbol"]["icon-translate"]),"icon-translate-anchor":new _3(_5["paint_symbol"]["icon-translate-anchor"]),"text-opacity":new _4(_5["paint_symbol"]["text-opacity"]),"text-color":new _4(_5["paint_symbol"]["text-color"]),"text-halo-color":new _4(_5["paint_symbol"]["text-halo-color"]),"text-halo-width":new _4(_5["paint_symbol"]["text-halo-width"]),"text-halo-blur":new _4(_5["paint_symbol"]["text-halo-blur"]),"text-translate":new _3(_5["paint_symbol"]["text-translate"]),"text-translate-anchor":new _3(_5["paint_symbol"]["text-translate-anchor"])});var _f={paint:_e,layout:_d};function _10(_11){_1.call(this,_11,_f);};if(_1){_10.__proto__=_1;}_10.prototype=Object.create(_1&&_1.prototype);_10.prototype.constructor=_10;_10.prototype.recalculate=function recalculate(_12){_1.prototype.recalculate.call(this,_12);if(this.layout.get("icon-rotation-alignment")==="auto"){if(this.layout.get("symbol-placement")!=="point"){this.layout._values["icon-rotation-alignment"]="map";}else{this.layout._values["icon-rotation-alignment"]="viewport";}}if(this.layout.get("text-rotation-alignment")==="auto"){if(this.layout.get("symbol-placement")!=="point"){this.layout._values["text-rotation-alignment"]="map";}else{this.layout._values["text-rotation-alignment"]="viewport";}}if(this.layout.get("text-pitch-alignment")==="auto"){this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment");}if(this.layout.get("icon-pitch-alignment")==="auto"){this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment");}};_10.prototype.getValueAndResolveTokens=function getValueAndResolveTokens(_13,_14){var _15=this.layout.get(_13).evaluate(_14,{});var _16=this._unevaluatedLayout._values[_13];if(!_16.isDataDriven()&&!_7.isExpression(_16.value)){return _8(_14.properties,_15);}return _15;};_10.prototype.createBucket=function createBucket(_17){return new _6(_17);};_10.prototype.queryRadius=function queryRadius(){return 0;};_10.prototype.queryIntersectsFeature=function queryIntersectsFeature(){return false;};return _10;});