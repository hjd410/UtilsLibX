//>>built
define("com/huayun/webgis/layers/support/expression/Case",[],function(){var _1=function _1(_2,_3,_4){this.type=_2;this.branches=_3;this.otherwise=_4;};_1.parse=function(_5,_6){if(_5.length<4){return _6.error("Expected at least 3 arguments, but found only "+(_5.length-1)+".");}if(_5.length%2!==0){return _6.error("Expected an odd number of arguments.");}var _7;if(_6.expectedType&&_6.expectedType.kind!=="value"){_7=_6.expectedType;}var _8=[];for(var i=1;i<_5.length-1;i+=2){var _9=_6.parse(_5[i],i,{kind:"boolean"});if(!_9){return null;}var _a=_6.parse(_5[i+1],i+1,_7);if(!_a){return null;}_8.push([_9,_a]);_7=_7||_a.type;}var _b=_6.parse(_5[_5.length-1],_5.length-1,_7);if(!_b){return null;}return new _1(_7,_8,_b);};_1.prototype.evaluate=function(_c){for(var i=0,_d=this.branches;i<_d.length;i+=1){var _e=_d[i];var _f=_e[0];var _10=_e[1];if(_f.evaluate(_c)){return _10.evaluate(_c);}}return this.otherwise.evaluate(_c);};_1.prototype.eachChild=function(fn){for(var i=0,_11=this.branches;i<_11.length;i+=1){var ref=_11[i];var _12=ref[0];var _13=ref[1];fn(_12);fn(_13);}fn(this.otherwise);};_1.prototype.possibleOutputs=function(){var ref;return (ref=[]).concat.apply(ref,this.branches.map(function(ref){var _14=ref[0];var out=ref[1];return out.possibleOutputs();})).concat(this.otherwise.possibleOutputs());};_1.prototype.serialize=function(){var _15=["case"];this.eachChild(function(_16){_15.push(_16.serialize());});return _15;};return _1;});