//>>built
define("com/huayun/webgis/layers/support/StyleLayer","exports ../../data/bucket/FillBucket ../../data/bucket/LineBucket ../../data/bucket/SymbolBucket ../../data/bucket/FillExtrusionBucket ../../data/bucket/LineExtrusionBucket ../../data/bucket/HeatmapBucket ../../data/bucket/CircleBucket ./Property ./EvaluationParameters ./expressions ../../utils/utils ../../utils/image ../../geometry/Point2D".split(" "),function(n,Q,R,S,T,U,V,W,c,X,Y,r,A,Z){function t(a,b,e,c,d){if(!b[0]&&!b[1])return a;b=Z.convert(b)._mult(d);
"viewport"===e&&b._rotate(-c);e=[];for(c=0;c<a.length;c++)e.push(a[c].sub(b));return e}function u(a,b,e){a=b.paint.get(a).value;if("constant"===a.kind)return a.value}function ba(a,b,e){var c={},d;for(d in a)c[d]=b.call(e||this,a[d],d,a);return c}function p(a){return Array.isArray(a)?a.map(p):"object"===typeof a&&a?ba(a,p):a}function ca(a,b){return b.replace(/{([^{}]+)}/g,function(b,c){return c in a?String(a[c]):""})}function B(a,b){var e=a.key,c=a.style,d=a.styleSpec,g=a.value,h=a.objectKey,f=d[b+
"_"+a.layerType];if(!f)return[];var k=h.match(/^(.*)-transition$/);if("paint"===b&&k&&f[k[1]]&&f[k[1]].transition)return validate({key:e,value:g,valueSpec:d.transition,style:c,styleSpec:d});f=a.valueSpec||f[h];if(!f)return[new ValidationError(e,g,'unknown property "'+h+'"')];var l;if("string"===getType(g)&&supportsPropertyExpression(f)&&!f.tokens&&(l=/^{([^}]+)}$/.exec(g)))return[new ValidationError(e,g,'"'+h+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+
JSON.stringify(l[1])+" }`.")];l=[];"symbol"===a.layerType&&("text-field"===h&&c&&!c.glyphs&&l.push(new ValidationError(e,g,'use of "text-field" requires a style "glyphs" property')),"text-font"===h&&isFunction(deepUnbundle(g))&&"identity"===unbundle(g.type)&&l.push(new ValidationError(e,g,'"text-font" does not support identity functions')));return l.concat(validate({key:a.key,value:g,valueSpec:f,style:c,styleSpec:d,expressionContext:"property",propertyType:b,propertyKey:h}))}function C(a,b){b=b||
d;var e=[],e=e.concat(validate({key:"",value:a,valueSpec:b.$root,styleSpec:b,style:a,objectElementValidators:{glyphs:validateGlyphsURL,"*":function(){return[]}}}));a.constants&&(e=e.concat(validateConstants({key:"constants",value:a.constants,style:a,styleSpec:b})));return D(e)}function D(a){return[].concat(a).sort(function(b,a){return b.line-a.line})}function v(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function E(a){return function(){for(var b=[],e=arguments.length;e--;)b[e]=arguments[e];return D(a.apply(this,
b))}}function da(a,b,e){var c={},d;for(d in a)b.call(e||this,a[d],d,a)&&(c[d]=a[d]);return c}var d={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},
layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number",
"default":22},attribution:{type:"string"},"*":{type:"*"}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background".split(" "),
layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},"default":"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},
source:{}},"default":"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",
values:{none:{},width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},
{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},
viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,
parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field",
{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],
expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"},{"!":"text-variable-anchor"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",
"default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"\x3d\x3d":{},"!\x3d":{},"\x3e":{},"\x3e\x3d":{},"\x3c":{},"\x3c\x3d":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string",
"default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},
at:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},
"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},
"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"\x3d\x3d":{group:"Decision"},"!\x3d":{group:"Decision"},"\x3e":{group:"Decision"},
"\x3c":{group:"Decision"},"\x3e\x3d":{group:"Decision"},"\x3c\x3d":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array","default":[1.15,
210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background".split(" "),
paint_fill:{"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],
expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],
expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",
"default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},
"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,
units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},
viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},
"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,
maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",
requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,
requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature",
"feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},
nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",
values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",
transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},
"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},z=function(a){this._properties=a;this._values=Object.create(a.defaultPossiblyEvaluatedValues)};z.prototype.get=function(a){return this._values[a]};var y=function(a){this._properties=a;this._values=Object.create(a.defaultTransitioningPropertyValues)};y.prototype.possiblyEvaluate=function(a){for(var b=new z(this._properties),e=0,c=Object.keys(this._values);e<c.length;e+=1){var d=c[e];b._values[d]=
this._values[d].possiblyEvaluate(a)}return b};y.prototype.hasTransition=function(){for(var a=0,b=Object.keys(this._values);a<b.length;a+=1)if(this._values[b[a]].prior)return!0;return!1};var w=function(a){this._properties=a;this._values=Object.create(a.defaultPropertyValues)};w.prototype.getValue=function(a){return p(this._values[a].value)};w.prototype.setValue=function(a,b){this._values[a]=new c.PropertyValue(this._values[a].property,null===b?void 0:p(b))};w.prototype.serialize=function(){for(var a=
{},b=0,e=Object.keys(this._values);b<e.length;b+=1){var c=e[b],d=this.getValue(c);void 0!==d&&(a[c]=d)}return a};w.prototype.possiblyEvaluate=function(a){for(var b=new z(this._properties),e=0,c=Object.keys(this._values);e<c.length;e+=1){var d=c[e];b._values[d]=this._values[d].possiblyEvaluate(a)}return b};var q=function(a){this._properties=a;this._values=Object.create(a.defaultTransitionablePropertyValues)};q.prototype.getValue=function(a){return p(this._values[a].value.value)};q.prototype.setValue=
function(a,b){this._values.hasOwnProperty(a)||(this._values[a]=new c.TransitionablePropertyValue(this._values[a].property));this._values[a].value=new c.PropertyValue(this._values[a].property,null===b?void 0:p(b))};q.prototype.getTransition=function(a){return p(this._values[a].transition)};q.prototype.setTransition=function(a,b){this._values.hasOwnProperty(a)||(this._values[a]=new c.TransitionablePropertyValue(this._values[a].property));this._values[a].transition=p(b)||void 0};q.prototype.serialize=
function(){for(var a={},b=0,e=Object.keys(this._values);b<e.length;b+=1){var c=e[b],d=this.getValue(c);void 0!==d&&(a[c]=d);d=this.getTransition(c);void 0!==d&&(a[c+"-transition"]=d)}return a};q.prototype.transitioned=function(a,b){for(var c=new y(this._properties),d=0,x=Object.keys(this._values);d<x.length;d+=1){var g=x[d];c._values[g]=this._values[g].transitioned(a,b._values[g])}return c};q.prototype.untransitioned=function(){for(var a=new y(this._properties),b=0,c=Object.keys(this._values);b<c.length;b+=
1){var d=c[b];a._values[d]=this._values[d].untransitioned()}return a};C.paintProperty=E(function(a){return B(a,"paint")});C.layoutProperty=E(function(a){return B(a,"layout")});var m=function(){function a(b,a){this.id=b.id;this.type=b.type;this._featureFilter=function(){return!0};if("custom"!==b.type&&(this.minzoom=b.minzoom,this.maxzoom=b.maxzoom,this.source=b.source,"background"!==b.type&&(this.sourceLayer=b["source-layer"],this.filter=b.filter),a.layout&&(this._unevaluatedLayout=new w(a.layout)),
a.paint)){this._transitionablePaint=new q(a.paint);for(var c in b.paint)this.setPaintProperty(c,b.paint[c],{validate:!1});for(var d in b.layout)this.setLayoutProperty(d,b.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}a.prototype.constructor=a;a.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters};a.prototype.getLayoutProperty=function(a){return"visibility"===a?this.visibility:this._unevaluatedLayout.getValue(a)};a.prototype.setLayoutProperty=
function(a,c,d){void 0===d&&(d={});"visibility"===a?this.visibility=c:this._unevaluatedLayout.setValue(a,c)};a.prototype.getPaintProperty=function(a){return r.endsWith(a,"-transition")?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)};a.prototype.setPaintProperty=function(a,c,d){void 0===d&&(d={});if(-1!==a.indexOf("-transition",a.length-11))return this._transitionablePaint.setTransition(a.slice(0,-11),c||void 0),!1;var b=this._transitionablePaint._values[a];
d="cross-faded-data-driven"===b.property.specification["property-type"];b=b.value.isDataDriven();this._transitionablePaint.setValue(a,c);this._handleSpecialPaintPropertyUpdate(a);return this._transitionablePaint._values[a].value.isDataDriven()||b||d};a.prototype._handleSpecialPaintPropertyUpdate=function(a){};a.prototype.isHidden=function(a){return this.minzoom&&a<this.minzoom||this.maxzoom&&a>=this.maxzoom?!0:"none"===this.visibility};a.prototype.updateTransitions=function(a){this._transitioningPaint=
this._transitionablePaint.transitioned(a,this._transitioningPaint)};a.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()};a.prototype.recalculate=function(a){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters());this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a));this.paint=this._transitioningPaint.possiblyEvaluate(a)};a.prototype.serialize=function(){var a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,
metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility);return da(a,function(a,b){return void 0!==a&&!("layout"===b&&!Object.keys(a).length)&&!("paint"===b&&!Object.keys(a).length)})};a.prototype._validate=function(a,c,aa,x,g){void 0===g&&(g={});return g&&
!1===g.validate?!1:r.emitValidationErrors(this,a.call(validateStyle,{key:c,layerType:this.type,objectKey:aa,value:x,styleSpec:d,style:{glyphs:!0,sprite:!0}}))};a.prototype.is3D=function(){return!1};a.prototype.isTileClipped=function(){return!1};a.prototype.hasOffscreenPass=function(){return!1};a.prototype.resize=function(){};a.prototype.isStateDependent=function(){for(var a in this.paint._values){var d=this.paint.get(a);if(d instanceof c.PossiblyEvaluatedPropertyValue&&("data-driven"===d.property.specification["property-type"]||
"cross-faded-data-driven"===d.property.specification["property-type"])&&("source"===d.value.kind||"composite"===d.value.kind)&&d.value.isStateDependent)return!0}return!1};return a}();n.StyleLayer=m;var ea={paint:new c.Properties({"background-color":new c.DataConstantProperty(d.paint_background["background-color"]),"background-pattern":new c.CrossFadedProperty(d.paint_background["background-pattern"]),"background-opacity":new c.DataConstantProperty(d.paint_background["background-opacity"])})},F=function(a){function b(b){a.call(this,
b,ea)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(m);n.BackgroundStyleLayer=F;var fa=new c.Properties({"line-cap":new c.DataConstantProperty(d.layout_line["line-cap"]),"line-join":new c.DataDrivenProperty(d.layout_line["line-join"]),"line-miter-limit":new c.DataConstantProperty(d.layout_line["line-miter-limit"]),"line-round-limit":new c.DataConstantProperty(d.layout_line["line-round-limit"])}),G=new c.Properties({"line-opacity":new c.DataDrivenProperty(d.paint_line["line-opacity"]),
"line-color":new c.DataDrivenProperty(d.paint_line["line-color"]),"line-translate":new c.DataConstantProperty(d.paint_line["line-translate"]),"line-translate-anchor":new c.DataConstantProperty(d.paint_line["line-translate-anchor"]),"line-width":new c.DataDrivenProperty(d.paint_line["line-width"]),"line-gap-width":new c.DataDrivenProperty(d.paint_line["line-gap-width"]),"line-offset":new c.DataDrivenProperty(d.paint_line["line-offset"]),"line-blur":new c.DataDrivenProperty(d.paint_line["line-blur"]),
"line-dasharray":new c.CrossFadedProperty(d.paint_line["line-dasharray"]),"line-pattern":new c.CrossFadedDataDrivenProperty(d.paint_line["line-pattern"]),"line-gradient":new c.ColorRampProperty(d.paint_line["line-gradient"])}),H=new (function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.possiblyEvaluate=function(b,c){c=new X(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,
transition:c.transition});return a.prototype.possiblyEvaluate.call(this,b,c)};b.prototype.evaluate=function(c,b,d,g){b=extend({},b,{zoom:Math.floor(b.zoom)});return a.prototype.evaluate.call(this,c,b,d,g)};return b}(c.DataDrivenProperty))(G.properties["line-width"].specification);H.useIntegerZoom=!0;var I=function(a){function b(b){a.call(this,b,{paint:G,layout:fa})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._handleSpecialPaintPropertyUpdate=
function(a){"line-gradient"===a&&this._updateGradient()};b.prototype._updateGradient=function(){this.gradient=A.renderColorRamp(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress");this.gradientTexture=null};b.prototype.recalculate=function(b){a.prototype.recalculate.call(this,b);this.paint._values["line-floorwidth"]=H.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,b)};b.prototype.createBucket=function(a){return new R(a)};b.prototype.queryRadius=
function(a){var b;b=u("line-width",this,a);var c=u("line-gap-width",this,a);b=0<c?c+2*b:b;a=u("line-offset",this,a);return b/2+Math.abs(a)+v(this.paint.get("line-translate"))};b.prototype.queryIntersectsFeature=function(a,b,c,d,h,f,k){a=t(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),f.angle,k);h=this.paint.get("line-width").evaluate(b,c);f=this.paint.get("line-gap-width").evaluate(b,c);h=k/2*(0<f?f+2*h:h);(b=this.paint.get("line-offset").evaluate(b,c))&&(d=offsetLine(d,
b*k));return polygonIntersectsBufferedMultiLine(a,d,h)};b.prototype.isTileClipped=function(){return!0};return b}(m);n.LineStyleLayer=I;var ga={paint:new c.Properties({"fill-antialias":new c.DataConstantProperty(d.paint_fill["fill-antialias"]),"fill-opacity":new c.DataDrivenProperty(d.paint_fill["fill-opacity"]),"fill-color":new c.DataDrivenProperty(d.paint_fill["fill-color"]),"fill-outline-color":new c.DataDrivenProperty(d.paint_fill["fill-outline-color"]),"fill-translate":new c.DataConstantProperty(d.paint_fill["fill-translate"]),
"fill-translate-anchor":new c.DataConstantProperty(d.paint_fill["fill-translate-anchor"]),"fill-pattern":new c.CrossFadedDataDrivenProperty(d.paint_fill["fill-pattern"])})},J=function(a){function b(b){a.call(this,b,ga)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.recalculate=function(b){a.prototype.recalculate.call(this,b);this.paint._values["fill-outline-color"]=this.paint._values["fill-color"]};b.prototype.createBucket=function(a){return new Q(a)};
b.prototype.queryRadius=function(){return v([0,0])};b.prototype.queryIntersectsFeature=function(a,b,c,d,h,f,k){a=t(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),f.angle,k);return polygonIntersectsMultiPolygon(a,d)};b.prototype.isTileClipped=function(){return!0};return b}(m);n.FillStyleLayer=J;var ha=new c.Properties({"symbol-placement":new c.DataConstantProperty(d.layout_symbol["symbol-placement"]),"symbol-spacing":new c.DataConstantProperty(d.layout_symbol["symbol-spacing"]),
"symbol-avoid-edges":new c.DataConstantProperty(d.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new c.DataDrivenProperty(d.layout_symbol["symbol-sort-key"]),"symbol-z-order":new c.DataConstantProperty(d.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new c.DataConstantProperty(d.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new c.DataConstantProperty(d.layout_symbol["icon-ignore-placement"]),"icon-optional":new c.DataConstantProperty(d.layout_symbol["icon-optional"]),
"icon-rotation-alignment":new c.DataConstantProperty(d.layout_symbol["icon-rotation-alignment"]),"icon-size":new c.DataDrivenProperty(d.layout_symbol["icon-size"]),"icon-text-fit":new c.DataConstantProperty(d.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new c.DataConstantProperty(d.layout_symbol["icon-text-fit-padding"]),"icon-image":new c.DataDrivenProperty(d.layout_symbol["icon-image"]),"icon-rotate":new c.DataDrivenProperty(d.layout_symbol["icon-rotate"]),"icon-padding":new c.DataConstantProperty(d.layout_symbol["icon-padding"]),
"icon-keep-upright":new c.DataConstantProperty(d.layout_symbol["icon-keep-upright"]),"icon-offset":new c.DataDrivenProperty(d.layout_symbol["icon-offset"]),"icon-anchor":new c.DataDrivenProperty(d.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new c.DataConstantProperty(d.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new c.DataConstantProperty(d.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new c.DataConstantProperty(d.layout_symbol["text-rotation-alignment"]),
"text-field":new c.DataDrivenProperty(d.layout_symbol["text-field"]),"text-font":new c.DataDrivenProperty(d.layout_symbol["text-font"]),"text-size":new c.DataDrivenProperty(d.layout_symbol["text-size"]),"text-max-width":new c.DataDrivenProperty(d.layout_symbol["text-max-width"]),"text-line-height":new c.DataConstantProperty(d.layout_symbol["text-line-height"]),"text-letter-spacing":new c.DataDrivenProperty(d.layout_symbol["text-letter-spacing"]),"text-justify":new c.DataDrivenProperty(d.layout_symbol["text-justify"]),
"text-radial-offset":new c.DataDrivenProperty(d.layout_symbol["text-radial-offset"]),"text-variable-anchor":new c.DataConstantProperty(d.layout_symbol["text-variable-anchor"]),"text-anchor":new c.DataDrivenProperty(d.layout_symbol["text-anchor"]),"text-max-angle":new c.DataConstantProperty(d.layout_symbol["text-max-angle"]),"text-rotate":new c.DataDrivenProperty(d.layout_symbol["text-rotate"]),"text-padding":new c.DataConstantProperty(d.layout_symbol["text-padding"]),"text-keep-upright":new c.DataConstantProperty(d.layout_symbol["text-keep-upright"]),
"text-transform":new c.DataDrivenProperty(d.layout_symbol["text-transform"]),"text-offset":new c.DataDrivenProperty(d.layout_symbol["text-offset"]),"text-allow-overlap":new c.DataConstantProperty(d.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new c.DataConstantProperty(d.layout_symbol["text-ignore-placement"]),"text-optional":new c.DataConstantProperty(d.layout_symbol["text-optional"])}),ia=new c.Properties({"icon-opacity":new c.DataDrivenProperty(d.paint_symbol["icon-opacity"]),"icon-color":new c.DataDrivenProperty(d.paint_symbol["icon-color"]),
"icon-halo-color":new c.DataDrivenProperty(d.paint_symbol["icon-halo-color"]),"icon-halo-width":new c.DataDrivenProperty(d.paint_symbol["icon-halo-width"]),"icon-halo-blur":new c.DataDrivenProperty(d.paint_symbol["icon-halo-blur"]),"icon-translate":new c.DataConstantProperty(d.paint_symbol["icon-translate"]),"icon-translate-anchor":new c.DataConstantProperty(d.paint_symbol["icon-translate-anchor"]),"text-opacity":new c.DataDrivenProperty(d.paint_symbol["text-opacity"]),"text-color":new c.DataDrivenProperty(d.paint_symbol["text-color"]),
"text-halo-color":new c.DataDrivenProperty(d.paint_symbol["text-halo-color"]),"text-halo-width":new c.DataDrivenProperty(d.paint_symbol["text-halo-width"]),"text-halo-blur":new c.DataDrivenProperty(d.paint_symbol["text-halo-blur"]),"text-translate":new c.DataConstantProperty(d.paint_symbol["text-translate"]),"text-translate-anchor":new c.DataConstantProperty(d.paint_symbol["text-translate-anchor"])}),K=function(a){function b(b){a.call(this,b,{paint:ia,layout:ha})}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.recalculate=function(b){a.prototype.recalculate.call(this,b);"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport");"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]=
"viewport");"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment"));"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))};b.prototype.getValueAndResolveTokens=function(a,b){var c=this.layout.get(a).evaluate(b,{});a=this._unevaluatedLayout._values[a];return a.isDataDriven()||Y.isExpression(a.value)?c:ca(b.properties,c)};b.prototype.createBucket=
function(a){return new S(a)};b.prototype.queryRadius=function(){return 0};b.prototype.queryIntersectsFeature=function(){return!1};return b}(m);n.SymbolStyleLayer=K;var L={paint:new c.Properties({"fill-extrusion-opacity":new c.DataConstantProperty(d["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new c.DataDrivenProperty(d["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new c.DataConstantProperty(d["paint_fill-extrusion"]["fill-extrusion-translate"]),
"fill-extrusion-translate-anchor":new c.DataConstantProperty(d["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new c.CrossFadedDataDrivenProperty(d["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new c.DataDrivenProperty(d["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new c.DataDrivenProperty(d["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new c.DataConstantProperty(d["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},
M=function(a){function b(b){a.call(this,b,L)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.createBucket=function(a){return new T(a)};b.prototype.queryRadius=function(){return v(this.paint.get("fill-extrusion-translate"))};b.prototype.is3D=function(){return!0};b.prototype.queryIntersectsFeature=function(a,b,c,d,h,f,k,l){h=t(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),f.angle,k);a=this.paint.get("fill-extrusion-height").evaluate(b,
c);b=this.paint.get("fill-extrusion-base").evaluate(b,c);f=projectQueryGeometry$1(h,l,f,0);d=projectExtrusion(d,b,a,l);return checkIntersection(d[0],d[1],f)};return b}(m);n.FillExtrusionStyleLayer=M;var N=function(a){function b(b){a.call(this,b,L)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.createBucket=function(a){return new U(a)};b.prototype.queryRadius=function(){return v(this.paint.get("fill-extrusion-translate"))};b.prototype.is3D=function(){return!0};
b.prototype.queryIntersectsFeature=function(a,b,c,d,h,f,k,l){h=t(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),f.angle,k);a=this.paint.get("fill-extrusion-height").evaluate(b,c);b=this.paint.get("fill-extrusion-base").evaluate(b,c);f=projectQueryGeometry$1(h,l,f,0);d=projectExtrusion(d,b,a,l);return checkIntersection(d[0],d[1],f)};return b}(m);n.LineExtrusionStyleLayer=N;var ja={paint:new c.Properties({"heatmap-radius":new c.DataDrivenProperty(d.paint_heatmap["heatmap-radius"]),
"heatmap-weight":new c.DataDrivenProperty(d.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new c.DataConstantProperty(d.paint_heatmap["heatmap-intensity"]),"heatmap-color":new c.ColorRampProperty(d.paint_heatmap["heatmap-color"]),"heatmap-opacity":new c.DataConstantProperty(d.paint_heatmap["heatmap-opacity"])})},O=function(a){function b(b){a.call(this,b,ja);this._updateColorRamp()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.createBucket=
function(a){return new V(a)};b.prototype._handleSpecialPaintPropertyUpdate=function(a){"heatmap-color"===a&&this._updateColorRamp()};b.prototype._updateColorRamp=function(){this.colorRamp=A.renderColorRamp(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity");this.colorRampTexture=null};b.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)};b.prototype.queryRadius=function(){return 0};b.prototype.queryIntersectsFeature=function(){return!1};
b.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility};return b}(m);n.HeatmapStyleLayer=O;var ka={paint:new c.Properties({"circle-radius":new c.DataDrivenProperty(d.paint_circle["circle-radius"]),"circle-color":new c.DataDrivenProperty(d.paint_circle["circle-color"]),"circle-blur":new c.DataDrivenProperty(d.paint_circle["circle-blur"]),"circle-opacity":new c.DataDrivenProperty(d.paint_circle["circle-opacity"]),"circle-translate":new c.DataConstantProperty(d.paint_circle["circle-translate"]),
"circle-translate-anchor":new c.DataConstantProperty(d.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new c.DataConstantProperty(d.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new c.DataConstantProperty(d.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new c.DataDrivenProperty(d.paint_circle["circle-stroke-width"]),"circle-stroke-color":new c.DataDrivenProperty(d.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new c.DataDrivenProperty(d.paint_circle["circle-stroke-opacity"])})},
P=function(a){function b(b){a.call(this,b,ka)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.createBucket=function(a){return new W(a)};b.prototype.queryRadius=function(a){return u("circle-radius",this,a)+u("circle-stroke-width",this,a)+v(this.paint.get("circle-translate"))};b.prototype.queryIntersectsFeature=function(a,b,c,d,h,f,k,l){a=t(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),f.angle,k);h=this.paint.get("circle-radius").evaluate(b,
c);b=this.paint.get("circle-stroke-width").evaluate(b,c);c=h+b;a=(b="map"===this.paint.get("circle-pitch-alignment"))?a:r.projectQueryGeometry(a,l);k=b?c*k:c;for(c=0;c<d.length;c+=1){h=0;for(var e=d[c];h<e.length;h+=1){var g=e[h],n=b?g:r.projectPoint(g,l),m=k,g=glMatrix.vec4.transformMat4([],[g.x,g.y,0,1],l);"viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?m*=g[3]/f.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===
this.paint.get("circle-pitch-alignment")&&(m*=f.cameraToCenterDistance/g[3]);if(r.polygonIntersectsBufferedPoint(a,n,m))return!0}}return!1};return b}(m);n.CircleStyleLayer=P;n.createStyleLayer=function(a){switch(a.type){case "fill":return new J(a);case "line":return new I(a);case "symbol":return new K(a);case "background":return new F(a);case "fill-extrusion":return new M(a);case "line-extrusion":return new N(a);case "heatmap":return new O(a);case "circle":return new P(a)}}});