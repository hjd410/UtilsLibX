//>>built
define("com/huayun/webgis/layers/ModelLayer-bk",["dojo/_base/declare","./Layer","../views/3d/layers/ModelLayerView3D"],function(_1,_2,_3){return _1("com.huayun.webgis.layers.ModelLayer",[_2],{constructor:function(_4){_1.safeMixin(this,_4);this.layerView=null;this.models=[];this.loader=_4.loader||new THREE.GLTFLoader();this.lights=_4.lights||[];this.rotate=0;},createLayerView:function(_5,_6){var _7=new _3({width:_5.width,height:_5.height,opacity:this.opacity,visible:this.visible,view:_5,id:this.id,layer:this,lights:this.lights});_7.transform=_5.viewpoint;this.layerView=_7;this.models.forEach(function(_8){_8.loaded=false;this.layerView.addModel(_8);}.bind(this));return _7;},addModel:function(_9,_a){_9.loaded=false;this.models.push(_9);if(this.layerView){this.layerView.addModel(_9,_a);}},removeModel:function(_b){}});});