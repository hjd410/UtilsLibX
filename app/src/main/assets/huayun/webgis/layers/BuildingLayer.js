//>>built
define("com/huayun/webgis/layers/BuildingLayer",["dojo/_base/declare","dojo/request","./Layer","../views/3d/layers/BuildingLayerView3D"],function(_1,_2,_3,_4){return _1("com.huayun.webgis.layers.BuildingLayer",[_3],{type:"Feature",graphics:[],_features:[],id:"feature",maxLevel:0,minLevel:0,opacity:1,symbol:null,url:null,constructor:function(_5){_1.safeMixin(this,_5);this.layerViews=[];this.format=new format.MVT();},createLayerView:function(_6,_7){var _8=new _4({opacity:this.opacity,visible:this.visible,view:_6,id:this.id,layer:this});this.layerViews.push(_8);_6._scene.add(_8._group);return _8;},fetchTile:function(_9,_a,_b){var _c=this;return _2(this.url+"/"+_9+"/"+_a+"/"+_b+".pbf",{handleAs:"arraybuffer"}).then(function(_d){return _c.format.readFeatures(_d).hz_building;});},setVisible:function(_e){this.visible=_e;this.layerViews.forEach(function(_f){_f.setVisible(_e);});}});});