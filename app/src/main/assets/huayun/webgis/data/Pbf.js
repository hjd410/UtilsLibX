//>>built
define("com/huayun/webgis/data/Pbf",["./ieee754"],function(_1){function _2(_3){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_3)?_3:new Uint8Array(_3||0);this.pos=0;this.type=0;this.length=this.buf.length;};_2.Varint=0;_2.Fixed64=1;_2.Bytes=2;_2.Fixed32=5;var _4=(1<<16)*(1<<16),_5=1/_4;_2.prototype={destroy:function(){this.buf=null;},readFields:function(_6,_7,_8){_8=_8||this.length;while(this.pos<_8){var _9=this.readVarint(),_a=_9>>3,_b=this.pos;this.type=_9&7;_6(_a,_7,this);if(this.pos===_b){this.skip(_9);}}return _7;},readMessage:function(_c,_d){return this.readFields(_c,_d,this.readVarint()+this.pos);},readFixed32:function(){var _e=_f(this.buf,this.pos);this.pos+=4;return _e;},readSFixed32:function(){var val=_10(this.buf,this.pos);this.pos+=4;return val;},readFixed64:function(){var val=_f(this.buf,this.pos)+_f(this.buf,this.pos+4)*_4;this.pos+=8;return val;},readSFixed64:function(){var val=_f(this.buf,this.pos)+_10(this.buf,this.pos+4)*_4;this.pos+=8;return val;},readFloat:function(){var val=_1.read(this.buf,this.pos,true,23,4);this.pos+=4;return val;},readDouble:function(){var val=_1.read(this.buf,this.pos,true,52,8);this.pos+=8;return val;},readVarint:function(_11){var buf=this.buf,val,b;b=buf[this.pos++];val=b&127;if(b<128){return val;}b=buf[this.pos++];val|=(b&127)<<7;if(b<128){return val;}b=buf[this.pos++];val|=(b&127)<<14;if(b<128){return val;}b=buf[this.pos++];val|=(b&127)<<21;if(b<128){return val;}b=buf[this.pos];val|=(b&15)<<28;return _12(val,_11,this);},readVarint64:function(){return this.readVarint(true);},readSVarint:function(){var num=this.readVarint();return num%2===1?(num+1)/-2:num/2;},readBoolean:function(){return Boolean(this.readVarint());},readString:function(){var end=this.readVarint()+this.pos,str=_13(this.buf,this.pos,end);this.pos=end;return str;},readBytes:function(){var end=this.readVarint()+this.pos,_14=this.buf.subarray(this.pos,end);this.pos=end;return _14;},readPackedVarint:function(arr,_15){if(this.type!==_2.Bytes){return arr.push(this.readVarint(_15));}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readVarint(_15));}return arr;},readPackedSVarint:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readSVarint());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readSVarint());}return arr;},readPackedBoolean:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readBoolean());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readBoolean());}return arr;},readPackedFloat:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readFloat());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readFloat());}return arr;},readPackedDouble:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readDouble());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readDouble());}return arr;},readPackedFixed32:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readFixed32());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readFixed32());}return arr;},readPackedSFixed32:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readSFixed32());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readSFixed32());}return arr;},readPackedFixed64:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readFixed64());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readFixed64());}return arr;},readPackedSFixed64:function(arr){if(this.type!==_2.Bytes){return arr.push(this.readSFixed64());}var end=_16(this);arr=arr||[];while(this.pos<end){arr.push(this.readSFixed64());}return arr;},skip:function(val){var _17=val&7;if(_17===_2.Varint){while(this.buf[this.pos++]>127){}}else{if(_17===_2.Bytes){this.pos=this.readVarint()+this.pos;}else{if(_17===_2.Fixed32){this.pos+=4;}else{if(_17===_2.Fixed64){this.pos+=8;}else{throw new Error("Unimplemented type: "+_17);}}}}},writeTag:function(tag,_18){this.writeVarint((tag<<3)|_18);},realloc:function(min){var _19=this.length||16;while(_19<this.pos+min){_19*=2;}if(_19!==this.length){var buf=new Uint8Array(_19);buf.set(this.buf);this.buf=buf;this.length=_19;}},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length);},writeFixed32:function(val){this.realloc(4);_1a(this.buf,val,this.pos);this.pos+=4;},writeSFixed32:function(val){this.realloc(4);_1a(this.buf,val,this.pos);this.pos+=4;},writeFixed64:function(val){this.realloc(8);_1a(this.buf,val&-1,this.pos);_1a(this.buf,Math.floor(val*_5),this.pos+4);this.pos+=8;},writeSFixed64:function(val){this.realloc(8);_1a(this.buf,val&-1,this.pos);_1a(this.buf,Math.floor(val*_5),this.pos+4);this.pos+=8;},writeVarint:function(val){val=+val||0;if(val>268435455||val<0){_1b(val,this);return;}this.realloc(4);this.buf[this.pos++]=val&127|(val>127?128:0);if(val<=127){return;}this.buf[this.pos++]=((val>>>=7)&127)|(val>127?128:0);if(val<=127){return;}this.buf[this.pos++]=((val>>>=7)&127)|(val>127?128:0);if(val<=127){return;}this.buf[this.pos++]=(val>>>7)&127;},writeSVarint:function(val){this.writeVarint(val<0?-val*2-1:val*2);},writeBoolean:function(val){this.writeVarint(Boolean(val));},writeString:function(str){str=String(str);this.realloc(str.length*4);this.pos++;var _1c=this.pos;this.pos=_1d(this.buf,str,this.pos);var len=this.pos-_1c;if(len>=128){_1e(_1c,len,this);}this.pos=_1c-1;this.writeVarint(len);this.pos+=len;},writeFloat:function(val){this.realloc(4);_1.write(this.buf,val,this.pos,true,23,4);this.pos+=4;},writeDouble:function(val){this.realloc(8);_1.write(this.buf,val,this.pos,true,52,8);this.pos+=8;},writeBytes:function(_1f){var len=_1f.length;this.writeVarint(len);this.realloc(len);for(var i=0;i<len;i++){this.buf[this.pos++]=_1f[i];}},writeRawMessage:function(fn,obj){this.pos++;var _20=this.pos;fn(obj,this);var len=this.pos-_20;if(len>=128){_1e(_20,len,this);}this.pos=_20-1;this.writeVarint(len);this.pos+=len;},writeMessage:function(tag,fn,obj){this.writeTag(tag,_2.Bytes);this.writeRawMessage(fn,obj);},writePackedVarint:function(tag,arr){if(arr.length){this.writeMessage(tag,_21,arr);}},writePackedSVarint:function(tag,arr){if(arr.length){this.writeMessage(tag,_22,arr);}},writePackedBoolean:function(tag,arr){if(arr.length){this.writeMessage(tag,_23,arr);}},writePackedFloat:function(tag,arr){if(arr.length){this.writeMessage(tag,_24,arr);}},writePackedDouble:function(tag,arr){if(arr.length){this.writeMessage(tag,_25,arr);}},writePackedFixed32:function(tag,arr){if(arr.length){this.writeMessage(tag,_26,arr);}},writePackedSFixed32:function(tag,arr){if(arr.length){this.writeMessage(tag,_27,arr);}},writePackedFixed64:function(tag,arr){if(arr.length){this.writeMessage(tag,_28,arr);}},writePackedSFixed64:function(tag,arr){if(arr.length){this.writeMessage(tag,_29,arr);}},writeBytesField:function(tag,_2a){this.writeTag(tag,_2.Bytes);this.writeBytes(_2a);},writeFixed32Field:function(tag,val){this.writeTag(tag,_2.Fixed32);this.writeFixed32(val);},writeSFixed32Field:function(tag,val){this.writeTag(tag,_2.Fixed32);this.writeSFixed32(val);},writeFixed64Field:function(tag,val){this.writeTag(tag,_2.Fixed64);this.writeFixed64(val);},writeSFixed64Field:function(tag,val){this.writeTag(tag,_2.Fixed64);this.writeSFixed64(val);},writeVarintField:function(tag,val){this.writeTag(tag,_2.Varint);this.writeVarint(val);},writeSVarintField:function(tag,val){this.writeTag(tag,_2.Varint);this.writeSVarint(val);},writeStringField:function(tag,str){this.writeTag(tag,_2.Bytes);this.writeString(str);},writeFloatField:function(tag,val){this.writeTag(tag,_2.Fixed32);this.writeFloat(val);},writeDoubleField:function(tag,val){this.writeTag(tag,_2.Fixed64);this.writeDouble(val);},writeBooleanField:function(tag,val){this.writeVarintField(tag,Boolean(val));}};function _12(l,s,p){var buf=p.buf,h,b;b=buf[p.pos++];h=(b&112)>>4;if(b<128){return _2b(l,h,s);}b=buf[p.pos++];h|=(b&127)<<3;if(b<128){return _2b(l,h,s);}b=buf[p.pos++];h|=(b&127)<<10;if(b<128){return _2b(l,h,s);}b=buf[p.pos++];h|=(b&127)<<17;if(b<128){return _2b(l,h,s);}b=buf[p.pos++];h|=(b&127)<<24;if(b<128){return _2b(l,h,s);}b=buf[p.pos++];h|=(b&1)<<31;if(b<128){return _2b(l,h,s);}throw new Error("Expected varint not more than 10 bytes");};function _16(pbf){return pbf.type===_2.Bytes?pbf.readVarint()+pbf.pos:pbf.pos+1;};function _2b(low,_2c,_2d){if(_2d){return _2c*4294967296+(low>>>0);}return ((_2c>>>0)*4294967296)+(low>>>0);};function _1b(val,pbf){var low,_2e;if(val>=0){low=(val%4294967296)|0;_2e=(val/4294967296)|0;}else{low=~(-val%4294967296);_2e=~(-val/4294967296);if(low^4294967295){low=(low+1)|0;}else{low=0;_2e=(_2e+1)|0;}}if(val>=18446744073709552000||val<-18446744073709552000){throw new Error("Given varint doesn't fit into 10 bytes");}pbf.realloc(10);_2f(low,_2e,pbf);_30(_2e,pbf);};function _2f(low,_31,pbf){pbf.buf[pbf.pos++]=low&127|128;low>>>=7;pbf.buf[pbf.pos++]=low&127|128;low>>>=7;pbf.buf[pbf.pos++]=low&127|128;low>>>=7;pbf.buf[pbf.pos++]=low&127|128;low>>>=7;pbf.buf[pbf.pos]=low&127;};function _30(_32,pbf){var lsb=(_32&7)<<4;pbf.buf[pbf.pos++]|=lsb|((_32>>>=3)?128:0);if(!_32){return;}pbf.buf[pbf.pos++]=_32&127|((_32>>>=7)?128:0);if(!_32){return;}pbf.buf[pbf.pos++]=_32&127|((_32>>>=7)?128:0);if(!_32){return;}pbf.buf[pbf.pos++]=_32&127|((_32>>>=7)?128:0);if(!_32){return;}pbf.buf[pbf.pos++]=_32&127|((_32>>>=7)?128:0);if(!_32){return;}pbf.buf[pbf.pos++]=_32&127;};function _1e(_33,len,pbf){var _34=len<=16383?1:len<=2097151?2:len<=268435455?3:Math.floor(Math.log(len)/(Math.LN2*7));pbf.realloc(_34);for(var i=pbf.pos-1;i>=_33;i--){pbf.buf[i+_34]=pbf.buf[i];}};function _21(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeVarint(arr[i]);}};function _22(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeSVarint(arr[i]);}};function _24(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeFloat(arr[i]);}};function _25(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeDouble(arr[i]);}};function _23(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeBoolean(arr[i]);}};function _26(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeFixed32(arr[i]);}};function _27(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeSFixed32(arr[i]);}};function _28(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeFixed64(arr[i]);}};function _29(arr,pbf){for(var i=0;i<arr.length;i++){pbf.writeSFixed64(arr[i]);}};function _f(buf,pos){return ((buf[pos])|(buf[pos+1]<<8)|(buf[pos+2]<<16))+(buf[pos+3]*16777216);};function _1a(buf,val,pos){buf[pos]=val;buf[pos+1]=(val>>>8);buf[pos+2]=(val>>>16);buf[pos+3]=(val>>>24);};function _10(buf,pos){return ((buf[pos])|(buf[pos+1]<<8)|(buf[pos+2]<<16))+(buf[pos+3]<<24);};function _13(buf,pos,end){var str="";var i=pos;while(i<end){var b0=buf[i];var c=null;var _35=b0>239?4:b0>223?3:b0>191?2:1;if(i+_35>end){break;}var b1,b2,b3;if(_35===1){if(b0<128){c=b0;}}else{if(_35===2){b1=buf[i+1];if((b1&192)===128){c=(b0&31)<<6|(b1&63);if(c<=127){c=null;}}}else{if(_35===3){b1=buf[i+1];b2=buf[i+2];if((b1&192)===128&&(b2&192)===128){c=(b0&15)<<12|(b1&63)<<6|(b2&63);if(c<=2047||(c>=55296&&c<=57343)){c=null;}}}else{if(_35===4){b1=buf[i+1];b2=buf[i+2];b3=buf[i+3];if((b1&192)===128&&(b2&192)===128&&(b3&192)===128){c=(b0&15)<<18|(b1&63)<<12|(b2&63)<<6|(b3&63);if(c<=65535||c>=1114112){c=null;}}}}}}if(c===null){c=65533;_35=1;}else{if(c>65535){c-=65536;str+=String.fromCharCode(c>>>10&1023|55296);c=56320|c&1023;}}str+=String.fromCharCode(c);i+=_35;}return str;};function _1d(buf,str,pos){for(var i=0,c,_36;i<str.length;i++){c=str.charCodeAt(i);if(c>55295&&c<57344){if(_36){if(c<56320){buf[pos++]=239;buf[pos++]=191;buf[pos++]=189;_36=c;continue;}else{c=_36-55296<<10|c-56320|65536;_36=null;}}else{if(c>56319||(i+1===str.length)){buf[pos++]=239;buf[pos++]=191;buf[pos++]=189;}else{_36=c;}continue;}}else{if(_36){buf[pos++]=239;buf[pos++]=191;buf[pos++]=189;_36=null;}}if(c<128){buf[pos++]=c;}else{if(c<2048){buf[pos++]=c>>6|192;}else{if(c<65536){buf[pos++]=c>>12|224;}else{buf[pos++]=c>>18|240;buf[pos++]=c>>12&63|128;}buf[pos++]=c>>6&63|128;}buf[pos++]=c&63|128;}}return pos;};return _2;});