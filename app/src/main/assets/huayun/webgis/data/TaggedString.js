//>>built
define("com/huayun/webgis/data/TaggedString",[],function(){var _1=function _1(){this.text="";this.sectionIndex=[];this.sections=[];};_1.fromFeature=function fromFeature(_2,_3){var _4=new _1();for(var i=0;i<_2.sections.length;i++){var _5=_2.sections[i];_4.sections.push({scale:_5.scale||1,fontStack:_5.fontStack||_3});_4.text+=_5.text;for(var j=0;j<_5.text.length;j++){_4.sectionIndex.push(i);}}return _4;};_1.prototype.length=function length(){return this.text.length;};_1.prototype.getSection=function getSection(_6){return this.sections[this.sectionIndex[_6]];};_1.prototype.getCharCode=function getCharCode(_7){return this.text.charCodeAt(_7);};_1.prototype.verticalizePunctuation=function verticalizePunctuation$1(){this.text=funcUtils.verticalizePunctuation(this.text);};_1.prototype.trim=function trim(){var _8=0;for(var i=0;i<this.text.length&&whitespace[this.text.charCodeAt(i)];i++){_8++;}var _9=this.text.length;for(var _a=this.text.length-1;_a>=0&&_a>=_8&&whitespace[this.text.charCodeAt(_a)];_a--){_9--;}this.text=this.text.substring(_8,_9);this.sectionIndex=this.sectionIndex.slice(_8,_9);};_1.prototype.substring=function substring(_b,_c){var _d=new _1();_d.text=this.text.substring(_b,_c);_d.sectionIndex=this.sectionIndex.slice(_b,_c);_d.sections=this.sections;return _d;};_1.prototype.toString=function toString(){return this.text;};_1.prototype.getMaxScale=function getMaxScale(){var _e=this;return this.sectionIndex.reduce(function(_f,_10){return Math.max(_f,_e.sections[_10].scale);},0);};return _1;});