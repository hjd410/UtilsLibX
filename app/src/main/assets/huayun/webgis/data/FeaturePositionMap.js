//>>built
define("com/huayun/webgis/data/FeaturePositionMap",["../utils/utils"],function(_1){var _2=function _2(){this.ids=[];this.positions=[];this.indexed=false;};_2.prototype.add=function add(id,_3,_4,_5){this.ids.push(id);this.positions.push(_3,_4,_5);};_2.prototype.getPositions=function getPositions(id){var i=0;var j=this.ids.length-1;while(i<j){var m=(i+j)>>1;if(this.ids[m]>=id){j=m;}else{i=m+1;}}var _6=[];while(this.ids[i]===id){var _7=this.positions[3*i];var _8=this.positions[3*i+1];var _9=this.positions[3*i+2];_6.push({index:_7,start:_8,end:_9});i++;}return _6;};_2.serialize=function serialize(_a,_b){var _c=new Float64Array(_a.ids);var _d=new Uint32Array(_a.positions);_1.sort(_c,_d,0,_c.length-1);_b.push(_c.buffer,_d.buffer);return {ids:_c,positions:_d};};_2.deserialize=function deserialize(_e){var _f=new _2();_f.ids=(_e.ids);_f.positions=(_e.positions);_f.indexed=true;return _f;};return _2;});