//>>built
define("com/huayun/webgis/widget/components/buttons/DropDownButton",["dojo/_base/declare","dojo/on","dojo/query","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./SelectedButton","./DropRightButton","./Button"],function(_1,on,_2,_3,_4,_5,_6,_7,_8){return _1("com.huayun.webgis.widget.components.buttons.DropDownButton",[_8],{_openState:false,onSelected:null,arrowSpan:null,spanBox:null,constructor:function(_9){_1.safeMixin(this,_9);_9.iconClass=_9["id"];this._openState=false;},postCreate:function(){this.inherited(arguments);this.spanBox=_4.create("span",{className:"map-drop-down-box"});this.arrowSpan=_4.create("span",{className:"map-tool-arrow-open"});_4.place(this.spanBox,this.domNode);_4.place(this.arrowSpan,this.titleNode);if(this.params.buttons.length>0){for(var i=0;i<this.params.buttons.length;i++){switch(this.params.buttons[i].type){case "normal":this._createNormalButton(this.params.buttons[i]);break;case "selected":this._createSelectedButton(this.params.buttons[i]);break;case "drop-right":this._createDropRightButton(this.params.buttons[i]);break;default:break;}}}},onClick:function(){this.inherited(arguments);this._openState=!this._openState;if(this._openState){_3.remove(this.arrowSpan,"map-tool-arrow-open");_3.add(this.arrowSpan,"map-tool-arrow-close");this._showMethod();}else{_3.remove(this.arrowSpan,"map-tool-arrow-close");_3.add(this.arrowSpan,"map-tool-arrow-open");this._hideMethod();}},invalid:function(){if(this._openState){this._openState=!this._openState;_3.remove(this.arrowSpan,"map-tool-arrow-close");_3.add(this.arrowSpan,"map-tool-arrow-open");this._hideMethod();}},_createNormalButton:function(_a){_a.iconClass=_a["id"];var _b=new _8(_a);_b.placeAt(this.spanBox);_b.onClickFun=this._normalButtonClick.bind(this,{target:_b,params:_a});},_createSelectedButton:function(_c){_c.iconClass=_c["id"];var _d=new _6(_c);_d.placeAt(this.spanBox);_d.onClickFun=this._normalButtonClick.bind(this,{target:_d,params:_c});},_createDropRightButton:function(_e){var _f=new _7(_e);_f.placeAt(this.spanBox);_f.onSelected=this._dropButtonSelected.bind(this);_f.onClickFun=this._dropDownButtonClick.bind(this,_e);},_dropDownButtonClick:function(_10){},_dropButtonSelected:function(_11){this._normalButtonClick(_11);},_showMethod:function(){_5.set(this.spanBox,"display","block");},_normalButtonClick:function(_12){this._clickMethod();this.onSelected.call(this,_12);},_hideMethod:function(){_5.set(this.spanBox,"display","none");},_clickMethod:function(){this._openState=false;_3.remove(this.arrowSpan,"map-tool-arrow-close");_3.add(this.arrowSpan,"map-tool-arrow-open");this._hideMethod();}});});