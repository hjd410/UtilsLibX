//>>built
define("com/huayun/webgis/widget/WidgetDialog",["dojo/_base/declare","dojo/dom-style","dijit/Dialog","dojo/topic","../../framework/ModuleXContainer"],function(_1,_2,_3,_4,_5){return _1("com.huayun.webgis.widget.WidgetDialog",[_5],{_showFlag:false,constructor:function(){this.inherited(arguments);this._dialog=null;this._currentWidget=null;this.top=null,this.right=null,this.left=null,this.bottom=null;},postCreate:function(){this.inherited(arguments);this._dialog=new _3({id:"widget-dialog",title:"弹出框",content:"",style:"width: 417px;pointer-events:all"});_4.subscribe("mapOnClick",function(){if(this._showFlag){this.hide();}}.bind(this));_4.subscribe("onMapToolBarChange",function(_6){if(this._showFlag){this.hide();}}.bind(this));_4.subscribe("onDropDownChange",function(_7){if(this._showFlag){this.hide();}}.bind(this));},doInit:function(){if(this.get("top")){this.top=this.get("top");}if(this.get("right")){this.right=this.get("right");}if(this.get("left")){this.left=this.get("left");}if(this.get("bottom")){this.bottom=this.get("bottom");}this.right=this.get("right");_4.subscribe("widgetDialogContent",function(_8,_9){if(this._currentWidget===_8){this.show();}else{var _a=this.context.lookUp(_8);this._currentWidget=_8;if(_a===null){this.createModuleX(_8,null,function(){_a=this.context.lookUp(_8);this._dialog.removeChild(this._dialog.getChildren()[0]);this._dialog.addChild(_a);this._dialog.set("title",_9);this.show();}.bind(this));}else{this._dialog.removeChild(this._dialog.getChildren()[0]);this._dialog.addChild(_a);this._dialog.set("title",_9);this.show();}}}.bind(this));},show:function(){this._showFlag=true;this._dialog.show();this._dialog.domNode.style.right=this.right;this._dialog.domNode.style.top=this.top;this._dialog.domNode.style.left=this.left;this._dialog.domNode.style.bottom=this.bottom;},hide:function(){this._showFlag=false;this._dialog.hide();}});});