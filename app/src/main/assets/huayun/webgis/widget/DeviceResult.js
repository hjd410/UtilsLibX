//>>built
require({cache:{"url:com/huayun/webgis/templates/deviceResult.html":"<div class=\"device-single\">\r\n    <div class=\"device-sequence\">\r\n        <span>${sequence}</span>\r\n    </div>\r\n    <div class=\"device-detail\">\r\n        <div class=\"device-name\">${name}</div>\r\n        <div class=\"device-district\">[单位] : </div>\r\n        <div>\r\n            <button data-dojo-attach-event=\"onclick: locate\">定位</button></div>\r\n        </div>\r\n</div>"}});define("com/huayun/webgis/widget/DeviceResult",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_OnDijitClickMixin","../geometry/Extent","../Feature","../Graphic","dojo/text!../templates/deviceResult.html"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1("com.huayun.webgis.widget.DeviceResult",[_2,_3,_4],{templateString:_8,sequence:1,name:"",shape:"",map:null,constructor:function(_9){this.sequence=_9.sequence;this.name=_9.name;this.shape=_9.shape;this.map=_9.map;},locate:function(){var _a=this;var _b=this.map.findLayerById("drawLayer");if(this.shape.startsWith("POINT")){var _c=this.shape.indexOf(" "),x=this.shape.substring(6,_c)*1,y=this.shape.substring(_c+1,this.shape.length-1)*1;_b.clear();var _d=this.map.getMaxResolution();var _e=this.map.realWidth,_f=this.map.realHeight;this.map.setExtent(new _5(x-_d*_e/2,y-_d*_f/2,x+_d*_e/2,y+_d*_f/2));var p=_a.map.geometryTo3D({x:x,y:y});_b.addPoint({x:p.x,y:p.y});}else{if(this.shape.startsWith("MULTILINESTRING")){_b.clear();var str=this.shape.substring(17,this.shape.length-2);var _10=str.split("),(");var _11,_12;var _13=[],xy,p,x,y,_14=[];var _15,_16=0,_17,_18=0;for(var i=0,ii=_10.length;i<ii;i++){var _19=_10[i].split(",");_13=[];for(var j=0,jj=_19.length;j<jj;j++){_12=_19[j];xy=_12.split(" ");x=Number(xy[0]);y=Number(xy[1]);if(!_15||x<_15){_15=x;}else{if(x>_16){_16=x;}}if(!_17||y<_17){_17=y;}else{if(y>_18){_18=y;}}_13.push({x:x,y:y});}_14.push(_13);}var _1a=new _5(_15,_17,_16,_18);this.map.setExtent(_1a);var arr=[],p,_1b=[];x=_b.group.position.x;y=_b.group.position.y;for(var i=0;i<_14.length;i++){arr=_14[i];_1b=[];for(var j=0;j<arr.length;j++){p=_a.map.geometryTo3D(arr[j]);p.x=p.x-x;p.y=p.y-y;_1b.push(p);}var _1c=new _6({_geometry:_1b});var _1d=new _7({feature:_1c,symbol:_a.lineSymbol,graphicLayer:_b});_b.addGraphic(_1d);}_b.map.layerContainer.threeRender();}}}});});