//>>built
require({cache:{"url:com/huayun/webgis/templates/mapTypeSelection.html":"<div class=\"mapType\">\r\n</div>"}});define("com/huayun/webgis/widget/MapTypeSelection",["dojo/_base/declare","dojo/dom-construct","dojo/topic","./MapModuleX","dojo/text!../templates/mapTypeSelection.html"],function(_1,_2,_3,_4,_5){return _1("com.huayun.webgis.widget.MapTypeSelection",[_4],{templateString:_5,doInit:function(){this.view=this.get("view");this.configData=this.get("configData");this.layer=this.view.map.findLayerById("tile");var _6;for(var i=this.configData.length-1;i>-1;i--){var _7=this.configData[i];if(i<1){_6=_2.create("div",{className:"basicMap type"+i,style:"z-index: "+(this.configData.length-i)+";background-image: url('"+_7.thumbnail+"');right: "+((i+1)*6)+"px",innerHTML:"<span>"+_7.label+"</span>"},this.domNode,"first");_6.setAttribute("data-url",_7.url);_6.setAttribute("data-label",_7.label);_6.addEventListener("click",this.switchType.bind(this));}else{_6=_2.create("div",{className:"basicMap type"+i,style:"z-index: "+(this.configData.length-i)+";background-image: url('"+_7.thumbnail+"');right: "+((i+1)*6)+"px",innerHTML:"<span>"+_7.label+"</span>"},this.domNode,"first");_6.setAttribute("data-url",_7.url);_6.setAttribute("data-label",_7.label);_6.addEventListener("click",this.switchType.bind(this));}}_3.subscribe("layerComplete",function(){if(!this.layer){this.layer=this.view.map.findLayerById("tile");}}.bind(this));},switchType:function(e){var _8=e.target;var _9=_8.getAttribute("data-url");if(_9!==this.layer.url){this.layer.setUrl(_9);}_3.publish("mapTypeChange",_8.getAttribute("data-label"));}});});