//>>built
define("com/huayun/webgis/widget/DrawStyleController",["dojo/_base/declare","dojo/dom","dojo/topic","dojo/query","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./MapModuleX"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1("com.huayun.webgis.widget.DrawStyleController",[_8],{map:null,constructor:function(){},postCreate:function(){this.inherited(arguments);_7.set(this.domNode,"background-color","#fff");},doInit:function(){this.map=this.get("map");var _9=this.get("configData");var _a=_6.create("div",{style:"margin-left: 10px"},this.domNode,"last");_6.create("div",{innerHTML:"点符号: "},_a,"last");var _b=_6.create("div",{},_a,"last");var _c=_9.dot,_d;for(var i=0;i<_c.length;i++){_d=_c[i];_6.create("img",{className:"dotStyle","src":_d.src,onclick:this.dotStyle.bind(this)},_b,"last");}_6.create("hr",{},this.domNode,"last");var _e=_6.create("div",{style:"margin-left: 10px"},this.domNode,"last");_6.create("div",{innerHTML:"线符号: "},_e,"last");var _f=_6.create("div",{},_e,"last");var _10=_9.line;for(i=0;i<_10.length;i++){_d=_10[i];var _11=_6.create("div",{className:"lineStyle",style:"width: 50px;"},_f,"last");if(_d.type==="dash"){_6.create("div",{className:_d.type,style:"width: 50px; margin-bottom: 10px; margin-top: 10px; border-top: 2px dashed black",onclick:this.lineStyle.bind(this)},_11,"last");}else{_6.create("div",{className:_d.type,style:"width: 50px; margin-bottom: 10px; margin-top: 10px; border-top: 2px solid black",onclick:this.lineStyle.bind(this)},_11,"last");}}_6.create("hr",{},this.domNode,"last");var _12=_6.create("div",{style:"margin-left: 10px"},this.domNode,"last");_6.create("div",{innerHTML:"面符号: "},_12,"last");var _13=_6.create("div",{},_12,"last");var _14=_9.polygon;for(i=0;i<_14.length;i++){_d=_14[i];_6.create("div",{className:"polygonStyle",title:_d.color,style:"width: 50px; height: 30px; margin-bottom: 10px; background-color: "+_d.color,onclick:this.polyStyle.bind(this)},_13,"last");}},polyStyle:function(e){e.stopPropagation();var _15=e.target.title;var _16=this.map.findLayerById("graphic");_16.polygonMaterial=new THREE.MeshPhongMaterial({color:_15});_16.lineNodeMaterial=new THREE.PointsMaterial({size:15,color:_15});_16.circleMaterial=new THREE.LineBasicMaterial({color:_15});_4(".polygonStyle").forEach(function(_17){_5.remove(_17,"polygonStyleActive");});_5.add(e.target,"polygonStyleActive");},dotStyle:function(e){e.stopPropagation();var src=e.target.src;var _18=this.map.findLayerById("graphic");_18.dotSymbol.imageUrl=src;_18.dotSymbol.vertical=true;_18.dotSymbol.loaded=false;_18.dotSymbol.color=null;_4(".dotStyle").forEach(function(_19){_5.remove(_19,"dotStyleActive");});_5.add(e.target,"dotStyleActive");},lineStyle:function(e){e.stopPropagation();var _1a=e.target.className;var _1b=this.map.findLayerById("graphic");_4(".lineStyle").forEach(function(_1c){_5.remove(_1c,"lineStyleActive");});_5.add(e.target.parentNode,"lineStyleActive");switch(_1a){case "dash":_1b.lineMaterial=new THREE.LineDashedMaterial({color:16711680,dashSize:10,gapSize:5});break;default:_1b.lineMaterial=new THREE.LineBasicMaterial({color:16711680});}}});});