//>>built
define("com/huayun/webgis/gl/TinySDF",[],function(){var _1=100000000000000000000;function _2(_3,_4,_5,_6,_7,_8){this.fontSize=_3||24;this.buffer=_4===undefined?3:_4;this.cutoff=_6||0.25;this.fontFamily=_7||"sans-serif";this.fontWeight=_8||"normal";this.radius=_5||8;var _9=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas");this.canvas.width=this.canvas.height=_9;this.ctx=this.canvas.getContext("2d");this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily;this.ctx.textBaseline="middle";this.ctx.fillStyle="black";this.gridOuter=new Float64Array(_9*_9);this.gridInner=new Float64Array(_9*_9);this.f=new Float64Array(_9);this.z=new Float64Array(_9+1);this.v=new Uint16Array(_9);this.middle=Math.round((_9/2)*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1));};_2.prototype.draw=function(_a){this.ctx.clearRect(0,0,this.size,this.size);this.ctx.fillText(_a,this.buffer,this.middle);var _b=this.ctx.getImageData(0,0,this.size,this.size);var _c=new Uint8ClampedArray(this.size*this.size);for(var i=0;i<this.size*this.size;i++){var a=_b.data[i*4+3]/255;this.gridOuter[i]=a===1?0:a===0?_1:Math.pow(Math.max(0,0.5-a),2);this.gridInner[i]=a===1?_1:a===0?0:Math.pow(Math.max(0,a-0.5),2);}_d(this.gridOuter,this.size,this.size,this.f,this.v,this.z);_d(this.gridInner,this.size,this.size,this.f,this.v,this.z);for(i=0;i<this.size*this.size;i++){var d=Math.sqrt(this.gridOuter[i])-Math.sqrt(this.gridInner[i]);_c[i]=Math.max(0,Math.min(255,Math.round(255-255*(d/this.radius+this.cutoff))));}return _c;};_2.prototype.measureText=function(_e){return this.ctx.measureText(_e);};function _d(_f,_10,_11,f,v,z){for(var x=0;x<_10;x++){_12(_f,x,_10,_11,f,v,z);}for(var y=0;y<_11;y++){_12(_f,y*_10,1,_10,f,v,z);}};function _12(_13,_14,_15,_16,f,v,z){var q,k,s,r;v[0]=0;z[0]=-_1;z[1]=_1;for(q=0;q<_16;q++){f[q]=_13[_14+q*_15];}for(q=1,k=0,s=0;q<_16;q++){do{r=v[k];s=(f[q]-f[r]+q*q-r*r)/(q-r)/2;}while(s<=z[k--]);k+=2;v[k]=q;z[k]=s;z[k+1]=_1;}for(q=0,k=0;q<_16;q++){while(z[k+1]<q){k++;}r=v[k];_13[_14+q*_15]=f[r]+(q-r)*(q-r);}};return _2;});