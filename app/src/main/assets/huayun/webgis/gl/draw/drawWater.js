//>>built
define("com/huayun/webgis/gl/draw/drawWater",["exports","../mode","../../geometry/Point","../Texture","../../utils/utils","../programCache","custom/gl-matrix-min"],function(_1,_2,_3,_4,_5,_6,_7){var _8=function(_9,_a){return {"u_matrix":_9,"u_water_depth":_a};};var _b=function(_c,_d,_e,_f){debugger;var _10=_c.view.context;var gl=_10.gl;var _11=_2.StencilMode.disabled;var _12=_2.ColorMode.alphaBlended;var _13=_f.length&&_f[0].overscaledZ;var _14=_6.useProgramSimplify(_10,"water",{layoutAttributes:[{name:"a_pos",type:"Int16",components:3,offset:0}]});for(var i=0,_15=_f;i<_15.length;i+=1){var _16=_15[i];var _17=_c.depthModeForSublayer(_16.overscaledZ-_13,_2.DepthMode.ReadWrite,gl.LESS);var _18=_d.getTile(_16);var _19=_16.posMatrix;var _1a=_18.waterBucket;if(!_1a){continue;}var _1b=_8(_19,_c.view.depth||0);_14.draw(_10,gl.TRIANGLES,_17,_11,_12,_2.CullFaceMode.disabled,_1b,"water",_1a.layoutVertexBuffer,_1a.indexBuffer,_1a.segments);}};return _b;});