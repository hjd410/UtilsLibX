//>>built
define("com/huayun/webgis/gl/BaseValue",["require","exports","../utils/Color"],function(e,d,g){Object.defineProperty(d,"__esModule",{value:!0});e=function(){function b(a){this.gl=a.gl;this.current=this.default=this.getDefault();this.dirty=!1}b.prototype.get=function(){return this.current};b.prototype.set=function(a){};b.prototype.getDefault=function(){return this.default};b.prototype.setDefault=function(){this.set(this.default)};return b}();d.BaseValue=e;var c=function(b){function a(a){b.call(this,
a);this.vao=a.extVertexArrayObject}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};a.prototype.set=function(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)};return a}(e);d.BindVertexArrayOES=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};
a.prototype.set=function(a){var b=this.gl;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a);this.current=a;this.dirty=!1};return a}(e);d.BindElementBuffer=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindBuffer(b.ARRAY_BUFFER,a);this.current=a;this.dirty=!1}};return a}(e);d.BindVertexBuffer=c;
c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,a);this.current=a;this.dirty=!1}};return a}(e);d.BindFramebuffer=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=
function(){return null};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindRenderbuffer(b.RENDERBUFFER,a);this.current=a;this.dirty=!1}};return a}(e);d.BindRenderbuffer=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindTexture(b.TEXTURE_2D,a);this.current=
a;this.dirty=!1}};return a}(e);d.BindTexture=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return g.transparent};a.prototype.set=function(a){var b=this.current;if(a.r!==b.r||a.g!==b.g||a.b!==b.b||a.a!==b.a||this.dirty)this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1};return a}(e);d.ClearColor=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=
b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return 1};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.clearDepth(a),this.current=a,this.dirty=!1};return a}(e);d.ClearDepth=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return[!0,!0,!0,!0]};a.prototype.set=function(a){var b=this.current;if(a[0]!==
b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3]||this.dirty)this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1};return a}(e);d.ColorMask=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!0};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.depthMask(a),this.current=a,this.dirty=!1};return a}(e);d.DepthMask=c;c=function(b){function a(){b.apply(this,
arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return[0,1]};a.prototype.set=function(a){var b=this.current;if(a[0]!==b[0]||a[1]!==b[1]||this.dirty)this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1};return a}(e);d.DepthRange=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!1};
a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST);this.current=a;this.dirty=!1}};return a}(e);d.DepthTest=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return this.gl.LESS};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.depthFunc(a),this.current=a,this.dirty=!1};return a}(e);d.DepthFunc=
c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!1};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE);this.current=a;this.dirty=!1}};return a}(e);d.CullFace=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;
a.prototype.getDefault=function(){return this.gl.BACK};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.cullFace(a),this.current=a,this.dirty=!1};return a}(e);d.CullFaceSide=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!1};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.BLEND):b.disable(b.BLEND);this.current=
a;this.dirty=!1}};return a}(e);d.Blend=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){var a=this.gl;return[a.ONE,a.ZERO]};a.prototype.set=function(a){var b=this.current;if(a[0]!==b[0]||a[1]!==b[1]||this.dirty)this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1};return a}(e);d.BlendFunc=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=
Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return g.transparent};a.prototype.set=function(a){var b=this.current;if(a.r!==b.r||a.g!==b.g||a.b!==b.b||a.a!==b.a||this.dirty)this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1};return a}(e);d.BlendColor=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return this.gl.FUNC_ADD};
a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.blendEquation(a),this.current=a,this.dirty=!1};return a}(e);d.BlendEquation=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return this.gl.TEXTURE0};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.activeTexture(a),this.current=a,this.dirty=!1};return a}(e);d.ActiveTextureUnit=c;c=function(b){function a(){b.apply(this,
arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return 4};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_ALIGNMENT,a);this.current=a;this.dirty=!1}};return a}(e);d.PixelStoreUnpack=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!1};a.prototype.set=
function(a){if(a!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a);this.current=a;this.dirty=!1}};return a}(e);d.PixelStoreUnpackPremultiplyAlpha=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!1};a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,a);this.current=a;
this.dirty=!1}};return a}(e);d.PixelStoreUnpackFlipY=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return this.gl.CCW};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.frontFace(a),this.current=a,this.dirty=!1};return a}(e);d.FrontFace=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=
a;a.prototype.getDefault=function(){return 0};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.clearStencil(a),this.current=a,this.dirty=!1};return a}(e);d.ClearStencil=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return 255};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.stencilMask(a),this.current=a,this.dirty=!1};return a}(e);d.StencilMask=
c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}};a.prototype.set=function(a){var b=this.current;if(a.func!==b.func||a.ref!==b.ref||a.mask!==b.mask||this.dirty)this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1};return a}(e);d.StencilFunc=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=
Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){var a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]};a.prototype.set=function(a){var b=this.current;if(a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||this.dirty)this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1};return a}(e);d.StencilOp=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return!1};
a.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST);this.current=a;this.dirty=!1}};return a}(e);d.StencilTest=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){var a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]};a.prototype.set=function(a){var b=this.current;if(a[0]!==b[0]||a[1]!==b[1]||
a[2]!==b[2]||a[3]!==b[3]||this.dirty)this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1};return a}(e);d.Viewport=c;var f=function(b){function a(a,c){b.call(this,a);this.context=a;this.parent=c}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};return a}(e);d.FramebufferAttachment=f;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=
a;a.prototype.setDirty=function(){this.dirty=!0};a.prototype.set=function(a){if(a!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var b=this.gl;b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,a,0);this.current=a;this.dirty=!1}};return a}(f);d.ColorAttachment=c;c=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.set=function(a){if(a!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);
var b=this.gl;b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,a);this.current=a;this.dirty=!1}};return a}(f);d.DepthAttachment=c;d.Program=function(b){function a(){b.apply(this,arguments)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.getDefault=function(){return null};a.prototype.set=function(a){if(a!==this.current||this.dirty)this.gl.useProgram(a),this.current=a,this.dirty=!1};return a}(e)});