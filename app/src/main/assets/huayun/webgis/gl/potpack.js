//>>built
define("com/huayun/webgis/gl/potpack",[],function(){return function(_1){var _2=0;var _3=0;for(var _4=0,_5=_1;_4<_5.length;_4+=1){var _6=_5[_4];_2+=_6.w*_6.h;_3=Math.max(_3,_6.w);}_1.sort(function(a,b){return b.h-a.h;});var _7=Math.max(Math.ceil(Math.sqrt(_2/0.95)),_3);var _8=[{x:0,y:0,w:_7,h:Infinity}];var _9=0;var _a=0;for(var _b=0,_c=_1;_b<_c.length;_b+=1){var _d=_c[_b];for(var i=_8.length-1;i>=0;i--){var _e=_8[i];if(_d.w>_e.w||_d.h>_e.h){continue;}_d.x=_e.x;_d.y=_e.y;_a=Math.max(_a,_d.y+_d.h);_9=Math.max(_9,_d.x+_d.w);if(_d.w===_e.w&&_d.h===_e.h){var _f=_8.pop();if(i<_8.length){_8[i]=_f;}}else{if(_d.h===_e.h){_e.x+=_d.w;_e.w-=_d.w;}else{if(_d.w===_e.w){_e.y+=_d.h;_e.h-=_d.h;}else{_8.push({x:_e.x+_d.w,y:_e.y,w:_e.w-_d.w,h:_d.h});_e.y+=_d.h;_e.h-=_d.h;}}}break;}}return {w:_9,h:_a,fill:(_2/(_9*_a))||0};};});