//>>built
define("com/huayun/webgis/gl/TaggedString",["../utils/Constant"],function(_1){var _2=function _2(){this.text="";this.sectionIndex=[];this.sections=[];};_2.fromFeature=function fromFeature(_3,_4){var _5=new _2();for(var i=0;i<_3.sections.length;i++){var _6=_3.sections[i];_5.sections.push({scale:_6.scale||1,fontStack:_6.fontStack||_4});_5.text+=_6.text;for(var j=0;j<_6.text.length;j++){_5.sectionIndex.push(i);}}return _5;};_2.prototype.length=function length(){return this.text.length;};_2.prototype.getSection=function getSection(_7){return this.sections[this.sectionIndex[_7]];};_2.prototype.getSectionIndex=function getSectionIndex(_8){return this.sectionIndex[_8];};_2.prototype.getCharCode=function getCharCode(_9){return this.text.charCodeAt(_9);};_2.prototype.verticalizePunctuation=function verticalizePunctuation$1(){this.text=verticalizePunctuation(this.text);};_2.prototype.trim=function trim(){var _a=0;for(var i=0;i<this.text.length&&_1.whitespace[this.text.charCodeAt(i)];i++){_a++;}var _b=this.text.length;for(var _c=this.text.length-1;_c>=0&&_c>=_a&&_1.whitespace[this.text.charCodeAt(_c)];_c--){_b--;}this.text=this.text.substring(_a,_b);this.sectionIndex=this.sectionIndex.slice(_a,_b);};_2.prototype.substring=function substring(_d,_e){var _f=new _2();_f.text=this.text.substring(_d,_e);_f.sectionIndex=this.sectionIndex.slice(_d,_e);_f.sections=this.sections;return _f;};_2.prototype.toString=function toString(){return this.text;};_2.prototype.getMaxScale=function getMaxScale(){var _10=this;return this.sectionIndex.reduce(function(max,_11){return Math.max(max,_10.sections[_11].scale);},0);};return _2;});