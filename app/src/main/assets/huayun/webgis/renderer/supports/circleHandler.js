//>>built
define("com/huayun/webgis/renderer/supports/circleHandler",["exports","../../gl/mode","../../data/bucket/CircleBucketSimplify","../../geometry/Point"],function(_1,_2,_3,_4){_1.addCircle=function(_5,_6,_7,_8){var _9=new _3();var _a=_6.viewpoint.center,cx=_a[0],cy=_a[1];_9.addFeature([[new _4(Math.round(_7.x-cx),Math.round(_7.y-cy))]]);_9.upload(_6.context);_5.buckets.push(_9);_5.position=[cx,cy];};_1.drawCircle=function(_b,_c,_d,_e,_f){var _10=_b.view.context;var gl=_10.gl;var _11=_b.depthModeForSublayer(0,_2.DepthMode.ReadOnly);var _12=_2.StencilMode.disabled;var _13=_2.ColorMode.alphaBlended;var _14=_c.buckets[_e];var _15=_b.view.useProgramSimplify("circle",{layoutAttributes:[{name:"a_pos",type:"Float32",components:2,offset:0}]});var _16=_d.uniforms;var _17=_c.position;_16["u_matrix"]=_b.transform.getMatrixForPoint(_17[0],_17[1]);_16["u_camera_to_center_distance"]=_b.transform.cameraToCenterDistance;_16["u_extrude_scale"]=_b.transform.pixelsToGLUnits;_16["radius"]=_f;_15.draw(_10,gl.TRIANGLES,_11,_12,_13,_2.CullFaceMode.disabled,_16,_c.id+"-"+_e,_14.layoutVertexBuffer,_14.indexBuffer,_14.segments,null,_b.transform.level);};});