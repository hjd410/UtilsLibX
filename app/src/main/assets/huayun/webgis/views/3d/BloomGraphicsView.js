//>>built
define("com/huayun/webgis/views/3d/BloomGraphicsView",["exports","custom/gl-matrix-min","com/huayun/webgis/gl/mode","com/huayun/webgis/data/bucket/FillBucketSimplify"],function(_1,_2,_3,_4){var _5=function(_6,_7){var _8=_3.ColorMode.alphaBlended;var _9=_6.depthModeForSublayer(1,_3.DepthMode.ReadOnly);var _a=_6.view.context;var gl=_a.gl;var _b=_7.bucket;var _c=_6.view.useProgramSimplify("basicFill",{layoutAttributes:[{name:"a_pos",type:"Float32",components:2,offset:0}]});var _d=_7.symbol;var _e=_d.uniforms;var _f=_7.position;_e["u_matrix"]=_6.transform.getMatrixForPoint(_f[0],_f[1]);_c.draw(_a,gl.TRIANGLES,_9,null,_8,_3.CullFaceMode.disabled,_e,_7.id,_b.layoutVertexBuffer,_b.indexBuffer,_b.segments,null,_6.transform.level);};var _10=function(_11,_12){var _13=_11.feature.geometry;var _14=_12.viewpoint.center,cx=_14[0],cy=_14[1];var _15=_13.path;var g=[];for(var i=0;i<_15.length;i++){var _16=_15[i];var l=[];for(var j=0;j<_16.length;j++){var p=_16[j];l.push(new Point(p.x-cx,p.y-cy,0));}g.push(l);}var _17=new _4();_17.addFeature(g);_17.upload(_12.context);_11.bucket=_17;_11.position=[cx,cy];};_1.draw={polygon:_5};_1.add={polygon:_10};});