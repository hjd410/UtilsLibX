//>>built
define("com/huayun/webgis/symbols/ImageSymbol",["dojo/topic","custom/gl-matrix-min","./BaseSymbol"],function(_1,_2,_3){var _4=function(_5){_3.call(this,_5);this.type="image";var _6=_5.opacity||1;var _7=_5.size||1;var _8=_5.isRotate===undefined?false:_5.isRotate;var _9=_5.rotateRadian===undefined?0:_5.rotateRadian;this.loaded=false;this.used=false;this.width=_5.width;this.height=_5.height;this.angle=_5.angle||0;this.dx=_5.dx||0;this.dy=_5.dy||0;this.offset=_5.offset===undefined?[0,0]:_5.offset;var _a=_2.mat4.create();this.uniforms={"u_size":_7,"u_pitch_with_map":0,"u_opacity":_6,"u_texture":0,"u_rotate_symbol":_8,"u_radian":_9,"u_modelMatrix":_a};var _b=new Image();_b.setAttribute("crossorigin","anonymous");_b.onload=function(e){this.loaded=true;this.image=_b;this.uniforms.u_texsize=[this.width,this.height];if(this.used){_1.publish("threeRender");}}.bind(this);_b.src=_5.url;};if(_3){_4.__proto__=_3;}_4.prototype=Object.create(_3&&_3.prototype);_4.prototype.constructor=_4;return _4;});