//>>built
define("com/huayun/webgis/symbols/LineDashSymbol",["dojo/topic","./BaseSymbol","./lineDashTexture","com/huayun/webgis/gl/VertexFragShader"],function(_1,_2,_3,_4){return (function(_5){function _6(_7){_5.call(this,_7);this.type="line";this.join=_7.join||"miter";this.cap=_7.cap||"butt";this.color=_7.color.toArray();this.color.push(1);this.isComputeSphere=_7.isComputeSphere||true;var _8={from:_7.dasharray,to:_7.dasharray};var _9=false;var _a=_3.lineAtlas.getDash(_8.from,_9);var _b=_3.lineAtlas.getDash(_8.to,_9);var _c=_a.width*2;var _d=_b.width*1;this.tileRatio=2/_7.resolution;var _e=_3.lineAtlas.width;this.material=new THREE.RawShaderMaterial({uniforms:{"u_ratio":{value:2/_7.resolution},"u_units_to_pixels":{value:_7.wh},"u_device_pixel_ratio":{value:1},"u_color":{value:this.color},"u_opacity":{value:1},"u_gapwidth":{value:0},"u_width":{value:10},"u_image":{value:_3.texture},"u_blur":{value:0},"u_offset":{value:0},"u_floorwidth":{value:1},"u_patternscale_a":{value:[1/_7.resolution/_c,-_a.height/2]},"u_patternscale_b":{value:[1/_7.resolution/_d,-_b.height/2]},"u_sdfgamma":{value:_e/(Math.min(_c,_d)*256)/2},"u_tex_y_a":{value:_a.y},"u_tex_y_b":{value:_b.y},"u_mix":{value:1}},vertexShader:_4.basicLineDash.vertexSource,fragmentShader:_4.basicLineDash.fragmentSource,transparent:false,side:THREE.DoubleSide,blending:THREE.CustomBlending,blendSrc:THREE.OneFactor,blendDst:THREE.OneMinusSrcAlphaFactor});};if(_5){_6.__proto__=_5;}_6.prototype=Object.create(_5&&_5.prototype);_6.prototype.constructor=_6;return _6;}(_2));});